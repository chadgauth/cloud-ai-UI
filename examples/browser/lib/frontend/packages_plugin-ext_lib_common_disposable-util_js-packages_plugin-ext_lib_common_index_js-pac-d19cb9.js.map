{"version":3,"file":"packages_plugin-ext_lib_common_disposable-util_js-packages_plugin-ext_lib_common_index_js-pac-d19cb9.js","mappings":"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","sources":["webpack:///../../packages/notebook/src/common/index.ts?","webpack:///../../packages/notebook/src/common/notebook-common.ts?","webpack:///../../packages/notebook/src/common/notebook-range.ts?","webpack:///../../packages/plugin-ext/src/common/arrays.ts?","webpack:///../../packages/plugin-ext/src/common/disposable-util.ts?","webpack:///../../packages/plugin-ext/src/common/index.ts?","webpack:///../../packages/plugin-ext/src/common/plugin-ext-api-contribution.ts?","webpack:///../../packages/plugin-ext/src/common/plugin-identifiers.ts?","webpack:///../../packages/plugin-ext/src/common/plugin-protocol.ts?","webpack:///../../packages/plugin-ext/src/common/uri-components.ts?","webpack:///../../packages/plugin-ext/src/plugin/markdown-string.ts?","webpack:///../../packages/plugin-ext/src/plugin/type-converters.ts?"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './notebook-common';\nexport * from './notebook-range';\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CancellationToken, Command, Event, URI } from '@theia/core';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering/markdown-string';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\nimport { UriComponents } from '@theia/core/lib/common/uri';\nimport { CellRange } from './notebook-range';\n\nexport enum CellKind {\n    Markup = 1,\n    Code = 2\n}\n\nexport interface NotebookCellMetadata {\n    /**\n     * custom metadata\n     */\n    [key: string]: unknown;\n}\n\nexport interface NotebookCellInternalMetadata {\n    executionId?: string;\n    executionOrder?: number;\n    lastRunSuccess?: boolean;\n    runStartTime?: number;\n    runStartTimeAdjustment?: number;\n    runEndTime?: number;\n    renderDuration?: { [key: string]: number };\n}\n\nexport type NotebookDocumentMetadata = Record<string, unknown>;\n\nexport interface NotebookCellStatusBarItem {\n    readonly alignment: CellStatusbarAlignment;\n    readonly priority?: number;\n    readonly text: string;\n    // readonly color?: string | ThemeColor;\n    // readonly backgroundColor?: string | ThemeColor;\n    readonly tooltip?: string | MarkdownString;\n    readonly command?: string | Command;\n    // readonly accessibilityInformation?: IAccessibilityInformation;\n    readonly opacity?: string;\n    readonly onlyShowWhenActive?: boolean;\n}\n\nexport const enum CellStatusbarAlignment {\n    Left = 1,\n    Right = 2\n}\n\nexport type TransientCellMetadata = { readonly [K in keyof NotebookCellMetadata]?: boolean };\nexport type CellContentMetadata = { readonly [K in keyof NotebookCellMetadata]?: boolean };\nexport type TransientDocumentMetadata = { readonly [K in keyof NotebookDocumentMetadata]?: boolean };\n\nexport interface TransientOptions {\n    readonly transientOutputs: boolean;\n    readonly transientCellMetadata: TransientCellMetadata;\n    readonly transientDocumentMetadata: TransientDocumentMetadata;\n}\n\nexport interface NotebookExtensionDescription {\n    readonly id: string;\n    readonly location: string | undefined;\n}\n\nexport interface CellOutputItem {\n    readonly mime: string;\n    readonly data: BinaryBuffer;\n}\n\nexport interface CellOutput {\n    outputId: string;\n    outputs: CellOutputItem[];\n    metadata?: Record<string, unknown>;\n}\n\nexport interface NotebookCellCollapseState {\n    inputCollapsed?: boolean;\n    outputCollapsed?: boolean;\n}\n\nexport interface NotebookCell {\n    readonly uri: URI;\n    handle: number;\n    language: string;\n    cellKind: CellKind;\n    outputs: CellOutput[];\n    metadata: NotebookCellMetadata;\n    internalMetadata: NotebookCellInternalMetadata;\n    textBuffer: string;\n    onDidChangeOutputs?: Event<NotebookCellOutputsSplice>;\n    onDidChangeOutputItems?: Event<void>;\n    onDidChangeLanguage: Event<string>;\n    onDidChangeMetadata: Event<void>;\n    onDidChangeInternalMetadata: Event<CellInternalMetadataChangedEvent>;\n\n}\n\nexport interface CellData {\n    source: string;\n    language: string;\n    cellKind: CellKind;\n    outputs: CellOutput[];\n    metadata?: NotebookCellMetadata;\n    internalMetadata?: NotebookCellInternalMetadata;\n    collapseState?: NotebookCellCollapseState;\n}\n\nexport interface CellReplaceEdit {\n    editType: CellEditType.Replace;\n    index: number;\n    count: number;\n    cells: CellData[];\n}\n\nexport interface NotebookDocumentMetadataEdit {\n    editType: CellEditType.DocumentMetadata;\n    metadata: NotebookDocumentMetadata;\n}\n\nexport interface NotebookData {\n    readonly cells: CellData[];\n    readonly metadata: NotebookDocumentMetadata;\n}\n\nexport interface NotebookContributionData {\n    extension?: string;\n    providerDisplayName: string;\n    displayName: string;\n    filenamePattern: (string)[];\n    exclusive: boolean;\n}\n\nexport interface NotebookCellStatusBarItemList {\n    items: NotebookCellStatusBarItem[];\n    dispose?(): void;\n}\n\nexport interface NotebookCellStatusBarItemProvider {\n    viewType: string;\n    onDidChangeStatusBarItems?: Event<void>;\n    provideCellStatusBarItems(uri: UriComponents, index: number, token: CancellationToken): Promise<NotebookCellStatusBarItemList | undefined>;\n}\n\nexport interface NotebookCellOutputsSplice {\n    start: number /* start */;\n    deleteCount: number /* delete count */;\n    newOutputs: CellOutput[];\n};\n\nexport interface CellInternalMetadataChangedEvent {\n    readonly lastRunSuccessChanged?: boolean;\n}\n\nexport type NotebookCellTextModelSplice<T> = [\n    start: number,\n    deleteCount: number,\n    newItems: T[]\n];\n\nexport enum NotebookCellsChangeType {\n    ModelChange = 1,\n    Move = 2,\n    ChangeCellLanguage = 5,\n    Initialize = 6,\n    ChangeCellMetadata = 7,\n    Output = 8,\n    OutputItem = 9,\n    ChangeCellContent = 10,\n    ChangeDocumentMetadata = 11,\n    ChangeCellInternalMetadata = 12,\n    // ChangeCellMime = 13,\n    Unknown = 100\n}\n\nexport enum SelectionStateType {\n    Handle = 0,\n    Index = 1\n}\nexport interface SelectionHandleState {\n    kind: SelectionStateType.Handle;\n    primary: number | null;\n    selections: number[];\n}\n\nexport interface SelectionIndexState {\n    kind: SelectionStateType.Index;\n    focus: CellRange;\n    selections: CellRange[];\n}\n\nexport type SelectionState = SelectionHandleState | SelectionIndexState;\n\nexport interface NotebookTextModelChangedEvent {\n    readonly rawEvents: NotebookRawContentEvent[];\n    // readonly versionId: number;\n    readonly synchronous?: boolean;\n    readonly endSelectionState?: SelectionState;\n};\n\nexport interface NotebookCellsInitializeEvent<T> {\n    readonly kind: NotebookCellsChangeType.Initialize;\n    readonly changes: NotebookCellTextModelSplice<T>[];\n}\n\nexport interface NotebookCellsChangeLanguageEvent {\n    readonly kind: NotebookCellsChangeType.ChangeCellLanguage;\n    readonly index: number;\n    readonly language: string;\n}\n\nexport interface NotebookCellsModelChangedEvent<T> {\n    readonly kind: NotebookCellsChangeType.ModelChange;\n    readonly changes: NotebookCellTextModelSplice<T>[];\n}\n\nexport interface NotebookCellsModelMoveEvent<T> {\n    readonly kind: NotebookCellsChangeType.Move;\n    readonly index: number;\n    readonly length: number;\n    readonly newIdx: number;\n    readonly cells: T[];\n}\n\nexport interface NotebookOutputChangedEvent {\n    readonly kind: NotebookCellsChangeType.Output;\n    readonly index: number;\n    readonly outputs: CellOutput[];\n    readonly append: boolean;\n}\n\nexport interface NotebookOutputItemChangedEvent {\n    readonly kind: NotebookCellsChangeType.OutputItem;\n    readonly index: number;\n    readonly outputId: string;\n    readonly outputItems: CellOutputItem[];\n    readonly append: boolean;\n}\nexport interface NotebookCellsChangeMetadataEvent {\n    readonly kind: NotebookCellsChangeType.ChangeCellMetadata;\n    readonly index: number;\n    readonly metadata: NotebookCellMetadata;\n}\n\nexport interface NotebookCellsChangeInternalMetadataEvent {\n    readonly kind: NotebookCellsChangeType.ChangeCellInternalMetadata;\n    readonly index: number;\n    readonly internalMetadata: NotebookCellInternalMetadata;\n}\n\nexport interface NotebookDocumentChangeMetadataEvent {\n    readonly kind: NotebookCellsChangeType.ChangeDocumentMetadata;\n    readonly metadata: NotebookDocumentMetadata;\n}\n\nexport interface NotebookDocumentUnknownChangeEvent {\n    readonly kind: NotebookCellsChangeType.Unknown;\n}\n\nexport interface NotebookCellContentChangeEvent {\n    readonly kind: NotebookCellsChangeType.ChangeCellContent;\n    readonly index: number;\n}\n\nexport type NotebookRawContentEvent = (NotebookCellsInitializeEvent<NotebookCell> | NotebookDocumentChangeMetadataEvent | NotebookCellContentChangeEvent |\n    NotebookCellsModelChangedEvent<NotebookCell> | NotebookCellsModelMoveEvent<NotebookCell> | NotebookOutputChangedEvent | NotebookOutputItemChangedEvent |\n    NotebookCellsChangeLanguageEvent | NotebookCellsChangeMetadataEvent |\n    NotebookCellsChangeInternalMetadataEvent | NotebookDocumentUnknownChangeEvent); // & { transient: boolean };\n\nexport interface NotebookModelChangedEvent {\n    readonly rawEvents: NotebookRawContentEvent[];\n    readonly versionId: number;\n    // readonly synchronous: boolean | undefined;\n    // readonly endSelectionState: ISelectionState | undefined;\n};\n\nexport interface NotebookModelWillAddRemoveEvent {\n    readonly rawEvent: NotebookCellsModelChangedEvent<CellData>;\n};\n\nexport enum NotebookCellExecutionState {\n    Unconfirmed = 1,\n    Pending = 2,\n    Executing = 3\n}\n\nexport enum CellExecutionUpdateType {\n    Output = 1,\n    OutputItems = 2,\n    ExecutionState = 3,\n}\n\nexport interface CellExecuteOutputEdit {\n    editType: CellExecutionUpdateType.Output;\n    cellHandle: number;\n    append?: boolean;\n    outputs: CellOutput[];\n}\n\nexport interface CellExecuteOutputItemEdit {\n    editType: CellExecutionUpdateType.OutputItems;\n    append?: boolean;\n    items: CellOutputItem[];\n}\n\nexport interface CellExecutionStateUpdateDto {\n    editType: CellExecutionUpdateType.ExecutionState;\n    executionOrder?: number;\n    runStartTime?: number;\n    didPause?: boolean;\n    isPaused?: boolean;\n}\n\nexport interface CellOutputEdit {\n    editType: CellEditType.Output;\n    index: number;\n    outputs: CellOutput[];\n    append?: boolean;\n}\n\nexport interface CellOutputEditByHandle {\n    editType: CellEditType.Output;\n    handle: number;\n    outputs: CellOutput[];\n    append?: boolean;\n}\n\nexport interface CellOutputItemEdit {\n    editType: CellEditType.OutputItems;\n    items: CellOutputItem[];\n    append?: boolean;\n}\n\nexport interface CellMetadataEdit {\n    editType: CellEditType.Metadata;\n    index: number;\n    metadata: NotebookCellMetadata;\n}\n\nexport interface CellLanguageEdit {\n    editType: CellEditType.CellLanguage;\n    index: number;\n    language: string;\n}\n\nexport interface DocumentMetadataEdit {\n    editType: CellEditType.DocumentMetadata;\n    metadata: NotebookDocumentMetadata;\n}\n\nexport interface CellMoveEdit {\n    editType: CellEditType.Move;\n    index: number;\n    length: number;\n    newIdx: number;\n}\n\nexport const enum CellEditType {\n    Replace = 1,\n    Output = 2,\n    Metadata = 3,\n    CellLanguage = 4,\n    DocumentMetadata = 5,\n    Move = 6,\n    OutputItems = 7,\n    PartialMetadata = 8,\n    PartialInternalMetadata = 9,\n}\n\nexport type ImmediateCellEditOperation = CellOutputEditByHandle | CellOutputItemEdit | CellPartialInternalMetadataEditByHandle; // add more later on\nexport type CellEditOperation = ImmediateCellEditOperation | CellReplaceEdit | CellOutputEdit |\n    CellMetadataEdit | CellLanguageEdit | DocumentMetadataEdit | CellMoveEdit; // add more later on\n\nexport type NullablePartialNotebookCellInternalMetadata = {\n    [Key in keyof Partial<NotebookCellInternalMetadata>]: NotebookCellInternalMetadata[Key] | null\n};\nexport interface CellPartialInternalMetadataEditByHandle {\n    editType: CellEditType.PartialInternalMetadata;\n    handle: number;\n    internalMetadata: NullablePartialNotebookCellInternalMetadata;\n}\n\nexport interface NotebookKernelSourceAction {\n    readonly label: string;\n    readonly description?: string;\n    readonly detail?: string;\n    readonly command?: string | Command;\n    readonly documentation?: UriComponents | string;\n}\n\n/**\n * Whether the provided mime type is a text stream like `stdout`, `stderr`.\n */\nexport function isTextStreamMime(mimeType: string): boolean {\n    return ['application/vnd.code.notebook.stdout', 'application/vnd.code.notebook.stderr'].includes(mimeType);\n}\n\nexport namespace CellUri {\n\n    export const scheme = 'vscode-notebook-cell';\n\n    const _lengths = ['W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f'];\n    const _padRegexp = new RegExp(`^[${_lengths.join('')}]+`);\n    const _radix = 7;\n\n    export function generate(notebook: URI, handle: number): URI {\n\n        const s = handle.toString(_radix);\n        const p = s.length < _lengths.length ? _lengths[s.length - 1] : 'z';\n\n        const fragment = `${p}${s}s${Buffer.from(BinaryBuffer.fromString(notebook.scheme).buffer).toString('base64')} `;\n        return notebook.withScheme(scheme).withFragment(fragment);\n    }\n\n    export function parse(cell: URI): { notebook: URI; handle: number } | undefined {\n        if (cell.scheme !== scheme) {\n            return undefined;\n        }\n\n        const idx = cell.fragment.indexOf('s');\n        if (idx < 0) {\n            return undefined;\n        }\n\n        const handle = parseInt(cell.fragment.substring(0, idx).replace(_padRegexp, ''), _radix);\n        const parsedScheme = Buffer.from(cell.fragment.substring(idx + 1), 'base64').toString();\n\n        if (isNaN(handle)) {\n            return undefined;\n        }\n        return {\n            handle,\n            notebook: cell.withScheme(parsedScheme).withoutFragment()\n        };\n    }\n\n    export function generateCellPropertyUri(notebook: URI, handle: number, cellScheme: string): URI {\n        return CellUri.generate(notebook, handle).withScheme(cellScheme);\n    }\n\n    export function parseCellPropertyUri(uri: URI, propertyScheme: string): { notebook: URI; handle: number } | undefined {\n        if (uri.scheme !== propertyScheme) {\n            return undefined;\n        }\n\n        return CellUri.parse(uri.withScheme(scheme));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 Typefox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * [start, end]\n */\nexport interface CellRange {\n    /**\n     * zero based index\n     */\n    start: number;\n\n    /**\n     * zero based index\n     */\n    end: number;\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/arrays.ts\n\n/**\n * @returns New array with all falsy values removed. The original array IS NOT modified.\n */\nexport function coalesce<T>(array: ReadonlyArray<T | undefined | null>): T[] {\n    return <T[]>array.filter(e => !!e);\n}\n\n/**\n * @returns True if the provided object is an array and has at least one element.\n */\nexport function isNonEmptyArray<T>(obj: T[] | undefined | null): obj is T[];\nexport function isNonEmptyArray<T>(obj: readonly T[] | undefined | null): obj is readonly T[];\nexport function isNonEmptyArray<T>(obj: T[] | readonly T[] | undefined | null): obj is T[] | readonly T[] {\n    return Array.isArray(obj) && obj.length > 0;\n}\n\nexport function flatten<T>(arr: T[][]): T[] {\n    return (<T[]>[]).concat(...arr);\n}\n\nexport interface Splice<T> {\n    readonly start: number;\n    readonly deleteCount: number;\n    readonly toInsert: T[];\n}\n\n/**\n * @returns 'true' if the 'arg' is a 'ReadonlyArray'.\n */\nexport function isReadonlyArray(arg: unknown): arg is readonly unknown[] {\n    // Since Typescript does not properly narrow down typings for 'ReadonlyArray' we need to help it.\n    return Array.isArray(arg);\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport interface Disposable {\n    dispose(): void;\n}\n\nexport function dispose<T extends Disposable>(disposable: T): T | undefined;\nexport function dispose<T extends Disposable>(...disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(first: T | T[], ...rest: T[]): T | T[] | undefined {\n    if (Array.isArray(first)) {\n        first.forEach(d => d && d.dispose());\n        return [];\n    } else if (rest.length === 0) {\n        if (first) {\n            first.dispose();\n            return first;\n        }\n        return undefined;\n    } else {\n        dispose(first);\n        dispose(rest);\n        return [];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// Here we expose types from @theia/plugin, so it becomes a direct dependency\nexport * from './plugin-protocol';\nexport * from './plugin-api-rpc';\nexport * from './plugin-ext-api-contribution';\n\nimport { registerMsgPackExtensions } from './rpc-protocol';\n\nregisterMsgPackExtensions();\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { RPCProtocol } from './rpc-protocol';\nimport { PluginManager, Plugin } from './plugin-api-rpc';\nimport { interfaces } from '@theia/core/shared/inversify';\n\nexport const ExtPluginApiProvider = 'extPluginApi';\n/**\n * Provider for extension API description\n */\nexport interface ExtPluginApiProvider {\n    /**\n     * Provide API description\n     */\n    provideApi(): ExtPluginApi;\n}\n\n/**\n * Plugin API extension description.\n * This interface describes scripts for both plugin runtimes: frontend(WebWorker) and backend(NodeJs)\n */\nexport interface ExtPluginApi {\n\n    /**\n     * Path to the script which should be loaded to provide api, module should export `provideApi` function with\n     * [ExtPluginApiBackendInitializationFn](#ExtPluginApiBackendInitializationFn) signature\n     */\n    backendInitPath?: string;\n\n    /**\n     * Initialization information for frontend part of Plugin API\n     */\n    frontendExtApi?: FrontendExtPluginApi;\n}\n\nexport interface ExtPluginApiFrontendInitializationFn {\n    (rpc: RPCProtocol, plugins: Map<string, Plugin>): void;\n}\n\nexport interface ExtPluginApiBackendInitializationFn {\n    (rpc: RPCProtocol, pluginManager: PluginManager): void;\n}\n\n/**\n * Interface contains information for frontend(WebWorker) Plugin API extension initialization\n */\nexport interface FrontendExtPluginApi {\n    /**\n     * path to js file\n     */\n    initPath: string;\n    /** global variable name */\n    initVariable: string;\n    /**\n     * init function name,\n     * function should have  [ExtPluginApiFrontendInitializationFn](#ExtPluginApiFrontendInitializationFn)\n     */\n    initFunction: string;\n}\n\nexport const MainPluginApiProvider = Symbol('mainPluginApi');\n\n/**\n * Implementation should contains main(Theia) part of new namespace in Plugin API.\n * [initialize](#initialize) will be called once per plugin runtime\n */\nexport interface MainPluginApiProvider {\n    initialize(rpc: RPCProtocol, container: interfaces.Container): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport namespace PluginIdentifiers {\n    export interface Components {\n        publisher?: string;\n        name: string;\n        version: string;\n    }\n\n    export interface IdAndVersion {\n        id: UnversionedId;\n        version: string;\n    }\n\n    export type VersionedId = `${string}.${string}@${string}`;\n    export type UnversionedId = `${string}.${string}`;\n    /** Unpublished plugins (not from Open VSX or VSCode plugin store) may not have a `publisher` field. */\n    export const UNPUBLISHED = '<unpublished>';\n\n    /**\n     * @returns a string in the format `<publisher>.<name>`\n     */\n    export function componentsToUnversionedId({ publisher = UNPUBLISHED, name }: Components): UnversionedId {\n        return `${publisher.toLowerCase()}.${name.toLowerCase()}`;\n    }\n    /**\n     * @returns a string in the format `<publisher>.<name>@<version>`.\n     */\n    export function componentsToVersionedId({ publisher = UNPUBLISHED, name, version }: Components): VersionedId {\n        return `${publisher.toLowerCase()}.${name.toLowerCase()}@${version}`;\n    }\n    export function componentsToVersionWithId(components: Components): IdAndVersion {\n        return { id: componentsToUnversionedId(components), version: components.version };\n    }\n    /**\n     * @returns a string in the format `<id>@<version>`.\n     */\n    export function idAndVersionToVersionedId({ id, version }: IdAndVersion): VersionedId {\n        return `${id}@${version}`;\n    }\n    /**\n     * @returns a string in the format `<publisher>.<name>`.\n     */\n    export function unversionedFromVersioned(id: VersionedId): UnversionedId {\n        const endOfId = id.indexOf('@');\n        return id.slice(0, endOfId) as UnversionedId;\n    }\n    /**\n     * @returns `undefined` if it looks like the string passed in does not have the format returned by {@link PluginIdentifiers.toVersionedId}.\n     */\n    export function identifiersFromVersionedId(probablyId: string): Components | undefined {\n        const endOfPublisher = probablyId.indexOf('.');\n        const endOfName = probablyId.indexOf('@', endOfPublisher);\n        if (endOfPublisher === -1 || endOfName === -1) {\n            return undefined;\n        }\n        return { publisher: probablyId.slice(0, endOfPublisher), name: probablyId.slice(endOfPublisher + 1, endOfName), version: probablyId.slice(endOfName + 1) };\n    }\n    /**\n     * @returns `undefined` if it looks like the string passed in does not have the format returned by {@link PluginIdentifiers.toVersionedId}.\n     */\n    export function idAndVersionFromVersionedId(probablyId: string): IdAndVersion | undefined {\n        const endOfPublisher = probablyId.indexOf('.');\n        const endOfName = probablyId.indexOf('@', endOfPublisher);\n        if (endOfPublisher === -1 || endOfName === -1) {\n            return undefined;\n        }\n        return { id: probablyId.slice(0, endOfName) as UnversionedId, version: probablyId.slice(endOfName + 1) };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { RpcServer } from '@theia/core/lib/common/messaging/proxy-factory';\nimport { RPCProtocol } from './rpc-protocol';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { LogPart, KeysToAnyValues, KeysToKeysToAnyValue } from './types';\nimport { CharacterPair, CommentRule, PluginAPIFactory, Plugin } from './plugin-api-rpc';\nimport { ExtPluginApi } from './plugin-ext-api-contribution';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\nimport { RecursivePartial } from '@theia/core/lib/common/types';\nimport { PreferenceSchema, PreferenceSchemaProperties } from '@theia/core/lib/common/preferences/preference-schema';\nimport { ProblemMatcherContribution, ProblemPatternContribution, TaskDefinition } from '@theia/task/lib/common';\nimport { ColorDefinition } from '@theia/core/lib/common/color';\nimport { ResourceLabelFormatter } from '@theia/core/lib/common/label-protocol';\nimport { PluginIdentifiers } from './plugin-identifiers';\n\nexport { PluginIdentifiers };\nexport const hostedServicePath = '/services/hostedPlugin';\n\n/**\n * Plugin engine (API) type, i.e. 'theiaPlugin', 'vscode', etc.\n */\nexport type PluginEngine = string;\n\n/**\n * This interface describes a package.json object.\n */\nexport interface PluginPackage {\n    name: string;\n    // The publisher is not guaranteed to be defined for unpublished plugins. https://github.com/microsoft/vscode-vsce/commit/a38657ece04c20e4fbde15d5ac1ed39ca51cb856\n    publisher: string | undefined;\n    version: string;\n    engines: {\n        [type in PluginEngine]: string;\n    };\n    theiaPlugin?: {\n        frontend?: string;\n        backend?: string;\n    };\n    main?: string;\n    browser?: string;\n    displayName: string;\n    description: string;\n    contributes?: PluginPackageContribution;\n    packagePath: string;\n    activationEvents?: string[];\n    extensionDependencies?: string[];\n    extensionPack?: string[];\n    l10n?: string;\n    icon?: string;\n    extensionKind?: Array<'ui' | 'workspace'>\n}\nexport namespace PluginPackage {\n    export function toPluginUrl(pck: PluginPackage | PluginModel, relativePath: string): string {\n        return `hostedPlugin/${getPluginId(pck)}/${encodeURIComponent(relativePath)}`;\n    }\n}\n\n/**\n * This interface describes a package.json contribution section object.\n */\nexport interface PluginPackageContribution {\n    authentication?: PluginPackageAuthenticationProvider[];\n    configuration?: RecursivePartial<PreferenceSchema> | RecursivePartial<PreferenceSchema>[];\n    configurationDefaults?: RecursivePartial<PreferenceSchemaProperties>;\n    languages?: PluginPackageLanguageContribution[];\n    grammars?: PluginPackageGrammarsContribution[];\n    customEditors?: PluginPackageCustomEditor[];\n    viewsContainers?: { [location: string]: PluginPackageViewContainer[] };\n    views?: { [location: string]: PluginPackageView[] };\n    viewsWelcome?: PluginPackageViewWelcome[];\n    commands?: PluginPackageCommand | PluginPackageCommand[];\n    menus?: { [location: string]: PluginPackageMenu[] };\n    submenus?: PluginPackageSubmenu[];\n    keybindings?: PluginPackageKeybinding | PluginPackageKeybinding[];\n    debuggers?: PluginPackageDebuggersContribution[];\n    snippets?: PluginPackageSnippetsContribution[];\n    themes?: PluginThemeContribution[];\n    iconThemes?: PluginIconThemeContribution[];\n    colors?: PluginColorContribution[];\n    taskDefinitions?: PluginTaskDefinitionContribution[];\n    problemMatchers?: PluginProblemMatcherContribution[];\n    problemPatterns?: PluginProblemPatternContribution[];\n    jsonValidation?: PluginJsonValidationContribution[];\n    resourceLabelFormatters?: ResourceLabelFormatter[];\n    localizations?: PluginPackageLocalization[];\n    terminal?: PluginPackageTerminal;\n    notebooks?: PluginPackageNotebook[];\n    notebookRenderer?: PluginNotebookRendererContribution[];\n}\n\nexport interface PluginPackageNotebook {\n    type: string;\n    displayName: string;\n    selector?: readonly { filenamePattern?: string; excludeFileNamePattern?: string }[];\n    priority?: string;\n}\n\nexport interface PluginNotebookRendererContribution {\n    readonly id: string;\n    readonly displayName: string;\n    readonly mimeTypes: string[];\n    readonly entrypoint: string | { readonly extends: string; readonly path: string };\n    readonly requiresMessaging?: 'always' | 'optional' | 'never'\n}\n\nexport interface PluginPackageAuthenticationProvider {\n    id: string;\n    label: string;\n}\n\nexport interface PluginPackageTerminalProfile {\n    title: string;\n    id: string;\n    icon?: string;\n}\n\nexport interface PluginPackageTerminal {\n    profiles: PluginPackageTerminalProfile[];\n}\n\nexport interface PluginPackageLocalization {\n    languageId: string;\n    languageName?: string;\n    localizedLanguageName?: string;\n    translations: PluginPackageTranslation[];\n    minimalTranslations?: { [key: string]: string };\n}\n\nexport interface PluginPackageTranslation {\n    id: string;\n    path: string;\n}\n\nexport interface PluginPackageCustomEditor {\n    viewType: string;\n    displayName: string;\n    selector?: CustomEditorSelector[];\n    priority?: CustomEditorPriority;\n}\n\nexport interface CustomEditorSelector {\n    readonly filenamePattern?: string;\n}\n\nexport enum CustomEditorPriority {\n    default = 'default',\n    builtin = 'builtin',\n    option = 'option',\n}\n\nexport interface PluginPackageViewContainer {\n    id: string;\n    title: string;\n    icon: string;\n}\n\nexport enum PluginViewType {\n    Tree = 'tree',\n    Webview = 'webview'\n}\n\nexport interface PluginPackageView {\n    id: string;\n    name: string;\n    when?: string;\n    type?: string;\n}\n\nexport interface PluginPackageViewWelcome {\n    view: string;\n    contents: string;\n    when?: string;\n}\n\nexport interface PluginPackageCommand {\n    command: string;\n    title: string;\n    original?: string;\n    category?: string;\n    icon?: string | { light: string; dark: string; };\n    enablement?: string;\n}\n\nexport interface PluginPackageMenu {\n    command?: string;\n    submenu?: string;\n    alt?: string;\n    group?: string;\n    when?: string;\n}\n\nexport interface PluginPackageSubmenu {\n    id: string;\n    label: string;\n    icon: IconUrl;\n}\n\nexport interface PluginPackageKeybinding {\n    key?: string;\n    command: string;\n    when?: string;\n    mac?: string;\n    linux?: string;\n    win?: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    args?: any;\n}\n\nexport interface PluginPackageGrammarsContribution {\n    language?: string;\n    scopeName: string;\n    path: string;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n}\n\nexport interface ScopeMap {\n    [scopeName: string]: string;\n}\n\nexport interface PluginPackageSnippetsContribution {\n    language?: string;\n    path?: string;\n}\n\nexport interface PluginColorContribution {\n    id?: string;\n    description?: string;\n    defaults?: { light?: string, dark?: string, highContrast?: string };\n}\n\nexport type PluginUiTheme = 'vs' | 'vs-dark' | 'hc-black';\n\nexport interface PluginThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    path?: string;\n    uiTheme?: PluginUiTheme;\n}\n\nexport interface PluginIconThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    path?: string;\n    uiTheme?: PluginUiTheme;\n}\n\nexport interface PlatformSpecificAdapterContribution {\n    program?: string;\n    args?: string[];\n    runtime?: string;\n    runtimeArgs?: string[];\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface PluginPackageDebuggersContribution extends PlatformSpecificAdapterContribution {\n    type: string;\n    label?: string;\n    languages?: string[];\n    enableBreakpointsFor?: { languageIds: string[] };\n    configurationAttributes: { [request: string]: IJSONSchema };\n    configurationSnippets: IJSONSchemaSnippet[];\n    variables?: ScopeMap;\n    adapterExecutableCommand?: string;\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\n/**\n * This interface describes a package.json languages contribution section object.\n */\nexport interface PluginPackageLanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: string;\n}\n\nexport interface PluginPackageLanguageContributionConfiguration {\n    comments?: CommentRule;\n    brackets?: CharacterPair[];\n    autoClosingPairs?: (CharacterPair | AutoClosingPairConditional)[];\n    surroundingPairs?: (CharacterPair | AutoClosingPair)[];\n    wordPattern?: string;\n    indentationRules?: IndentationRules;\n    folding?: FoldingRules;\n    onEnterRules?: OnEnterRule[];\n}\n\nexport interface PluginTaskDefinitionContribution {\n    type: string;\n    required: string[];\n    properties?: IJSONSchema['properties'];\n}\n\nexport interface PluginProblemMatcherContribution extends ProblemMatcherContribution {\n    name: string;\n}\n\nexport interface PluginProblemPatternContribution extends ProblemPatternContribution {\n    name: string;\n}\n\nexport interface PluginJsonValidationContribution {\n    fileMatch: string | string[];\n    url: string;\n}\n\nexport const PluginScanner = Symbol('PluginScanner');\n/**\n * This scanner process package.json object and returns plugin metadata objects.\n */\nexport interface PluginScanner {\n    /**\n     * The type of plugin's API (engine name)\n     */\n    apiType: PluginEngine;\n\n    /**\n     * Creates plugin's model.\n     *\n     * @param {PluginPackage} plugin\n     * @returns {PluginModel}\n     */\n    getModel(plugin: PluginPackage): PluginModel;\n\n    /**\n     * Creates plugin's lifecycle.\n     *\n     * @returns {PluginLifecycle}\n     */\n    getLifecycle(plugin: PluginPackage): PluginLifecycle;\n\n    getContribution(plugin: PluginPackage): Promise<PluginContribution | undefined>;\n\n    /**\n     * A mapping between a dependency as its defined in package.json\n     * and its deployable form, e.g. `publisher.name` -> `vscode:extension/publisher.name`\n     */\n    getDependencies(plugin: PluginPackage): Map<string, string> | undefined;\n}\n\n/**\n * A plugin resolver is handling how to resolve a plugin link into a local resource.\n */\nexport const PluginDeployerResolver = Symbol('PluginDeployerResolver');\n/**\n * A resolver handle a set of resource\n */\nexport interface PluginDeployerResolver {\n\n    init?(pluginDeployerResolverInit: PluginDeployerResolverInit): void;\n\n    accept(pluginSourceId: string): boolean;\n\n    resolve(pluginResolverContext: PluginDeployerResolverContext, options?: PluginDeployOptions): Promise<void>;\n\n}\n\nexport const PluginDeployerDirectoryHandler = Symbol('PluginDeployerDirectoryHandler');\nexport interface PluginDeployerDirectoryHandler {\n    accept(pluginDeployerEntry: PluginDeployerEntry): Promise<boolean>;\n\n    handle(context: PluginDeployerDirectoryHandlerContext): Promise<void>;\n}\n\nexport const PluginDeployerFileHandler = Symbol('PluginDeployerFileHandler');\nexport interface PluginDeployerFileHandler {\n\n    accept(pluginDeployerEntry: PluginDeployerEntry): Promise<boolean>;\n\n    handle(context: PluginDeployerFileHandlerContext): Promise<void>;\n}\n\nexport interface PluginDeployerResolverInit {\n\n}\n\nexport interface PluginDeployerResolverContext {\n\n    addPlugin(pluginId: string, path: string): void;\n\n    getPlugins(): PluginDeployerEntry[];\n\n    getOriginId(): string;\n\n}\n\nexport interface PluginDeployerStartContext {\n    readonly userEntries: string[]\n    readonly systemEntries: string[]\n}\n\nexport const PluginDeployer = Symbol('PluginDeployer');\nexport interface PluginDeployer {\n\n    start(): void;\n\n}\n\nexport const PluginDeployerParticipant = Symbol('PluginDeployerParticipant');\n/**\n * A participant can hook into the plugin deployer lifecycle.\n */\nexport interface PluginDeployerParticipant {\n    onWillStart?(context: PluginDeployerStartContext): Promise<void>;\n}\n\nexport enum PluginDeployerEntryType {\n\n    FRONTEND,\n\n    BACKEND\n}\n\n/**\n * Whether a plugin installed by a user or system.\n */\nexport enum PluginType {\n    System,\n    User\n};\n\nexport interface UnresolvedPluginEntry {\n    id: string;\n    type?: PluginType;\n}\n\nexport interface PluginDeployerEntry {\n\n    /**\n     * ID (before any resolution)\n     */\n    id(): string;\n\n    /**\n     * Original resolved path\n     */\n    originalPath(): string;\n\n    /**\n     * Local path on the filesystem.\n     */\n    path(): string;\n\n    /**\n     * Get a specific entry\n     */\n    getValue<T>(key: string): T;\n\n    /**\n     * Store a value\n     */\n    storeValue<T>(key: string, value: T): void;\n\n    /**\n     * Update path\n     */\n    updatePath(newPath: string): void;\n\n    getChanges(): string[];\n\n    isFile(): Promise<boolean>;\n\n    isDirectory(): Promise<boolean>;\n\n    /**\n     * Resolved if a resolver has handle this plugin\n     */\n    isResolved(): boolean;\n\n    resolvedBy(): string;\n\n    /**\n     * Accepted when a handler is telling this location can go live\n     */\n    isAccepted(...types: PluginDeployerEntryType[]): boolean;\n\n    accept(...types: PluginDeployerEntryType[]): void;\n\n    hasError(): boolean;\n\n    type: PluginType\n    /**\n     * A fs path to a directory where a plugin is located.\n     * Depending on a plugin format it can be different from `path`.\n     * Use `path` if you want to resolve something within a plugin, like `README.md` file.\n     * Use `rootPath` if you want to manipulate the entire plugin location, like delete or move it.\n     */\n    rootPath: string\n}\n\nexport interface PluginDeployerFileHandlerContext {\n\n    unzip(sourcePath: string, destPath: string): Promise<void>;\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\nexport interface PluginDeployerDirectoryHandlerContext {\n\n    copy(origin: string, target: string): Promise<void>;\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\n/**\n * This interface describes a plugin model object, which is populated from package.json.\n */\nexport interface PluginModel {\n    id: string;\n    name: string;\n    publisher: string;\n    version: string;\n    displayName: string;\n    description: string;\n    engine: {\n        type: PluginEngine;\n        version: string;\n    };\n    entryPoint: PluginEntryPoint;\n    packageUri: string;\n    /**\n     * @deprecated since 1.1.0 - because it lead to problems with getting a relative path\n     * needed by Icon Themes to correctly load Fonts, use packageUri instead.\n     */\n    packagePath: string;\n    iconUrl?: string;\n    l10n?: string;\n    readmeUrl?: string;\n    licenseUrl?: string;\n}\n\nexport interface PluginEntryPoint {\n    frontend?: string;\n    backend?: string;\n}\n\n/**\n * This interface describes some static plugin contributions.\n */\nexport interface PluginContribution {\n    activationEvents?: string[];\n    authentication?: AuthenticationProviderInformation[];\n    configuration?: PreferenceSchema[];\n    configurationDefaults?: PreferenceSchemaProperties;\n    languages?: LanguageContribution[];\n    grammars?: GrammarsContribution[];\n    customEditors?: CustomEditor[];\n    viewsContainers?: { [location: string]: ViewContainer[] };\n    views?: { [location: string]: View[] };\n    viewsWelcome?: ViewWelcome[];\n    commands?: PluginCommand[];\n    menus?: { [location: string]: Menu[] };\n    submenus?: Submenu[];\n    keybindings?: Keybinding[];\n    debuggers?: DebuggerContribution[];\n    snippets?: SnippetContribution[];\n    themes?: ThemeContribution[];\n    iconThemes?: IconThemeContribution[];\n    colors?: ColorDefinition[];\n    taskDefinitions?: TaskDefinition[];\n    problemMatchers?: ProblemMatcherContribution[];\n    problemPatterns?: ProblemPatternContribution[];\n    resourceLabelFormatters?: ResourceLabelFormatter[];\n    localizations?: Localization[];\n    terminalProfiles?: TerminalProfile[];\n    notebooks?: NotebookContribution[];\n    notebookRenderer?: NotebookRendererContribution[];\n}\n\nexport interface NotebookContribution {\n    type: string;\n    displayName: string;\n    selector?: readonly { filenamePattern?: string; excludeFileNamePattern?: string }[];\n    priority?: string;\n}\n\nexport interface NotebookRendererContribution {\n    readonly id: string;\n    readonly displayName: string;\n    readonly mimeTypes: string[];\n    readonly entrypoint: string | { readonly extends: string; readonly path: string };\n    readonly requiresMessaging?: 'always' | 'optional' | 'never'\n}\n\nexport interface AuthenticationProviderInformation {\n    id: string;\n    label: string;\n}\n\nexport interface TerminalProfile {\n    title: string,\n    id: string,\n    icon?: string\n}\n\nexport interface Localization {\n    languageId: string;\n    languageName?: string;\n    localizedLanguageName?: string;\n    translations: Translation[];\n    minimalTranslations?: { [key: string]: string };\n}\n\nexport interface Translation {\n    id: string;\n    path: string;\n    version: string;\n    contents: { [scope: string]: { [key: string]: string } }\n}\n\nexport interface SnippetContribution {\n    uri: string\n    source: string\n    language?: string\n}\n\nexport type UiTheme = 'vs' | 'vs-dark' | 'hc-black';\n\nexport interface ThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    uri: string;\n    uiTheme?: UiTheme;\n}\n\nexport interface IconThemeContribution {\n    id: string;\n    label?: string;\n    description?: string;\n    uri: string;\n    uiTheme?: UiTheme;\n}\n\nexport interface GrammarsContribution {\n    format: 'json' | 'plist';\n    language?: string;\n    scope: string;\n    grammar?: string | object;\n    grammarLocation?: string;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n    balancedBracketScopes?: string[];\n    unbalancedBracketScopes?: string[];\n}\n\n/**\n * The language contribution\n */\nexport interface LanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: LanguageConfiguration;\n}\n\nexport interface RegExpOptions {\n    pattern: string;\n    flags?: string;\n}\n\nexport interface LanguageConfiguration {\n    brackets?: CharacterPair[];\n    indentationRules?: IndentationRules;\n    surroundingPairs?: AutoClosingPair[];\n    autoClosingPairs?: AutoClosingPairConditional[];\n    comments?: CommentRule;\n    folding?: FoldingRules;\n    wordPattern?: string | RegExpOptions;\n    onEnterRules?: OnEnterRule[];\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface DebuggerContribution extends PlatformSpecificAdapterContribution {\n    type: string,\n    label?: string,\n    languages?: string[],\n    enableBreakpointsFor?: {\n        languageIds: string[]\n    },\n    configurationAttributes?: IJSONSchema[],\n    configurationSnippets?: IJSONSchemaSnippet[],\n    variables?: ScopeMap,\n    adapterExecutableCommand?: string\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\nexport interface IndentationRules {\n    increaseIndentPattern: string | RegExpOptions;\n    decreaseIndentPattern: string | RegExpOptions;\n    unIndentedLinePattern?: string | RegExpOptions;\n    indentNextLinePattern?: string | RegExpOptions;\n}\nexport interface AutoClosingPair {\n    close: string;\n    open: string;\n}\n\nexport interface AutoClosingPairConditional extends AutoClosingPair {\n    notIn?: string[];\n}\n\nexport interface FoldingMarkers {\n    start: string | RegExpOptions;\n    end: string | RegExpOptions;\n}\n\nexport interface FoldingRules {\n    offSide?: boolean;\n    markers?: FoldingMarkers;\n}\n\nexport interface OnEnterRule {\n    beforeText: string | RegExpOptions;\n    afterText?: string | RegExpOptions;\n    previousLineText?: string | RegExpOptions;\n    action: EnterAction;\n}\n\nexport interface EnterAction {\n    indent: 'none' | 'indent' | 'outdent' | 'indentOutdent';\n    appendText?: string;\n    removeText?: number;\n}\n\n/**\n * Custom Editors contribution\n */\nexport interface CustomEditor {\n    viewType: string;\n    displayName: string;\n    selector: CustomEditorSelector[];\n    priority: CustomEditorPriority;\n}\n\n/**\n * Views Containers contribution\n */\nexport interface ViewContainer {\n    id: string;\n    title: string;\n    iconUrl: string;\n    themeIcon?: string;\n}\n\n/**\n * View contribution\n */\nexport interface View {\n    id: string;\n    name: string;\n    when?: string;\n    type?: string;\n}\n\n/**\n * View Welcome contribution\n */\nexport interface ViewWelcome {\n    view: string;\n    content: string;\n    when?: string;\n    order: number;\n}\n\nexport interface PluginCommand {\n    command: string;\n    title: string;\n    originalTitle?: string;\n    category?: string;\n    iconUrl?: IconUrl;\n    themeIcon?: string;\n    enablement?: string;\n}\n\nexport type IconUrl = string | { light: string; dark: string; };\n\n/**\n * Menu contribution\n */\nexport interface Menu {\n    command?: string;\n    submenu?: string\n    alt?: string;\n    group?: string;\n    when?: string;\n}\n\nexport interface Submenu {\n    id: string;\n    label: string;\n    icon?: IconUrl;\n}\n\n/**\n * Keybinding contribution\n */\nexport interface Keybinding {\n    keybinding?: string;\n    command: string;\n    when?: string;\n    mac?: string;\n    linux?: string;\n    win?: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    args?: any;\n}\n\n/**\n * This interface describes a plugin lifecycle object.\n */\nexport interface PluginLifecycle {\n    startMethod: string;\n    stopMethod: string;\n    /**\n     * Frontend module name, frontend plugin should expose this name.\n     */\n    frontendModuleName?: string;\n    /**\n     * Path to the script which should do some initialization before frontend plugin is loaded.\n     */\n    frontendInitPath?: string;\n    /**\n     * Path to the script which should do some initialization before backend plugin is loaded.\n     */\n    backendInitPath?: string;\n}\n\n/**\n * The export function of initialization module of backend plugin.\n */\nexport interface BackendInitializationFn {\n    (apiFactory: PluginAPIFactory, plugin: Plugin): void;\n}\n\nexport interface BackendLoadingFn {\n    (rpc: RPCProtocol, plugin: Plugin): void;\n}\n\nexport interface PluginContext {\n    subscriptions: Disposable[];\n}\n\nexport interface ExtensionContext {\n    subscriptions: Disposable[];\n}\n\nexport interface PluginMetadata {\n    host: string;\n    model: PluginModel;\n    lifecycle: PluginLifecycle;\n    isUnderDevelopment?: boolean;\n    outOfSync: boolean;\n}\n\nexport const MetadataProcessor = Symbol('MetadataProcessor');\nexport interface MetadataProcessor {\n    process(pluginMetadata: PluginMetadata): void;\n}\n\nexport function getPluginId(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport function buildFrontendModuleName(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport const HostedPluginClient = Symbol('HostedPluginClient');\nexport interface HostedPluginClient {\n    postMessage(pluginHost: string, buffer: Uint8Array): Promise<void>;\n\n    log(logPart: LogPart): void;\n\n    onDidDeploy(): void;\n}\n\nexport interface PluginDependencies {\n    metadata: PluginMetadata\n    /**\n     * Actual listing of plugin dependencies.\n     * Mapping from {@link PluginIdentifiers.UnversionedId external representation} of plugin identity to a string\n     * that can be used to identify the resolver for the specific plugin case, e.g. with scheme `vscode://<id>`.\n     */\n    mapping?: Map<string, string>\n}\n\nexport const PluginDeployerHandler = Symbol('PluginDeployerHandler');\nexport interface PluginDeployerHandler {\n    deployFrontendPlugins(frontendPlugins: PluginDeployerEntry[]): Promise<number | undefined>;\n    deployBackendPlugins(backendPlugins: PluginDeployerEntry[]): Promise<number | undefined>;\n\n    getDeployedPluginsById(pluginId: string): DeployedPlugin[];\n\n    getDeployedPlugin(pluginId: PluginIdentifiers.VersionedId): DeployedPlugin | undefined;\n    /**\n     * Removes the plugin from the location it originally resided on disk.\n     * Unless `--uncompressed-plugins-in-place` is passed to the CLI, this operation is safe.\n     */\n    uninstallPlugin(pluginId: PluginIdentifiers.VersionedId): Promise<boolean>;\n    /**\n     * Removes the plugin from the locations to which it had been deployed.\n     * This operation is not safe - references to deleted assets may remain.\n     */\n    undeployPlugin(pluginId: PluginIdentifiers.VersionedId): Promise<boolean>;\n\n    getPluginDependencies(pluginToBeInstalled: PluginDeployerEntry): Promise<PluginDependencies | undefined>;\n}\n\nexport interface GetDeployedPluginsParams {\n    pluginIds: PluginIdentifiers.VersionedId[]\n}\n\nexport interface DeployedPlugin {\n    /**\n     * defaults to system\n     */\n    type?: PluginType;\n    metadata: PluginMetadata;\n    contributes?: PluginContribution;\n}\n\nexport const HostedPluginServer = Symbol('HostedPluginServer');\nexport interface HostedPluginServer extends RpcServer<HostedPluginClient> {\n\n    getDeployedPluginIds(): Promise<PluginIdentifiers.VersionedId[]>;\n\n    getUninstalledPluginIds(): Promise<readonly PluginIdentifiers.VersionedId[]>;\n\n    getDeployedPlugins(params: GetDeployedPluginsParams): Promise<DeployedPlugin[]>;\n\n    getExtPluginAPI(): Promise<ExtPluginApi[]>;\n\n    onMessage(targetHost: string, message: Uint8Array): Promise<void>;\n\n}\n\nexport const PLUGIN_HOST_BACKEND = 'main';\n\nexport interface WorkspaceStorageKind {\n    workspace?: string | undefined;\n    roots: string[];\n}\nexport type GlobalStorageKind = undefined;\nexport type PluginStorageKind = GlobalStorageKind | WorkspaceStorageKind;\n\nexport interface PluginDeployOptions {\n    version: string;\n    /** Instructs the deployer to ignore any existing plugins with different versions */\n    ignoreOtherVersions?: boolean;\n}\n\n/**\n * The JSON-RPC workspace interface.\n */\nexport const pluginServerJsonRpcPath = '/services/plugin-ext';\nexport const PluginServer = Symbol('PluginServer');\nexport interface PluginServer {\n\n    /**\n     * Deploy a plugin.\n     *\n     * @param type whether a plugin is installed by a system or a user, defaults to a user\n     */\n    deploy(pluginEntry: string, type?: PluginType, options?: PluginDeployOptions): Promise<void>;\n    uninstall(pluginId: PluginIdentifiers.VersionedId): Promise<void>;\n    undeploy(pluginId: PluginIdentifiers.VersionedId): Promise<void>;\n\n    setStorageValue(key: string, value: KeysToAnyValues, kind: PluginStorageKind): Promise<boolean>;\n    getStorageValue(key: string, kind: PluginStorageKind): Promise<KeysToAnyValues>;\n    getAllStorageValues(kind: PluginStorageKind): Promise<KeysToKeysToAnyValue>;\n}\n\nexport const ServerPluginRunner = Symbol('ServerPluginRunner');\nexport interface ServerPluginRunner {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    acceptMessage(pluginHostId: string, jsonMessage: Uint8Array): boolean;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onMessage(pluginHostId: string, jsonMessage: Uint8Array): void;\n    setClient(client: HostedPluginClient): void;\n    setDefault(defaultRunner: ServerPluginRunner): void;\n    clientClosed(): void;\n\n    /**\n     * Provides additional deployed plugins.\n     */\n    getExtraDeployedPlugins(): Promise<DeployedPlugin[]>;\n\n    /**\n     * Provides additional plugin ids.\n     */\n    getExtraDeployedPluginIds(): Promise<PluginIdentifiers.VersionedId[]>;\n\n}\n\nexport const PluginHostEnvironmentVariable = Symbol('PluginHostEnvironmentVariable');\nexport interface PluginHostEnvironmentVariable {\n    process(env: NodeJS.ProcessEnv): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport URI, { UriComponents } from '@theia/core/lib/common/uri';\n\nexport { UriComponents };\n\n// some well known URI schemas\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/network.ts#L9-L79\n// TODO move to network.ts file\nexport namespace Schemes {\n\n    /**\n     * A schema that is used for models that exist in memory\n     * only and that have no correspondence on a server or such.\n     */\n    export const inMemory = 'inmemory';\n\n    /**\n     * A schema that is used for setting files\n     */\n    export const vscode = 'vscode';\n\n    /**\n     * A schema that is used for internal private files\n     */\n    export const internal = 'private';\n\n    /**\n     * A walk-through document.\n     */\n    export const walkThrough = 'walkThrough';\n\n    /**\n     * An embedded code snippet.\n     */\n    export const walkThroughSnippet = 'walkThroughSnippet';\n\n    export const http = 'http';\n\n    export const https = 'https';\n\n    export const file = 'file';\n\n    export const mailto = 'mailto';\n\n    export const untitled = 'untitled';\n\n    export const data = 'data';\n\n    export const command = 'command';\n\n    export const vscodeRemote = 'vscode-remote';\n\n    export const vscodeRemoteResource = 'vscode-remote-resource';\n\n    export const userData = 'vscode-userdata';\n\n    export const vscodeCustomEditor = 'vscode-custom-editor';\n\n    export const vscodeSettings = 'vscode-settings';\n\n    export const webviewPanel = 'webview-panel';\n}\n\nexport function theiaUritoUriComponents(uri: URI): UriComponents {\n    return uri.toComponents();\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Mutable } from '@theia/core';\nimport { MarkdownStringImpl as BaseMarkdownString, MarkdownString as MarkdownStringInterface } from '@theia/core/lib/common/markdown-rendering';\nimport * as pluginAPI from '@theia/plugin';\nimport { es5ClassCompat } from '../common/types';\nimport { URI } from './types-impl';\n\n// Copied from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/workbench/api/common/extHostTypes.ts\n\n@es5ClassCompat\nexport class MarkdownString implements pluginAPI.MarkdownString {\n\n    readonly #delegate: BaseMarkdownString;\n\n    /**\n     * @returns whether the thing is a markdown string implementation with helper methods.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static isMarkdownString(thing: any): thing is pluginAPI.MarkdownString {\n        if (thing instanceof MarkdownString) {\n            return true;\n        }\n        return thing && thing.appendCodeblock && thing.appendMarkdown && thing.appendText && (thing.value !== undefined);\n    }\n\n    constructor(value?: string, supportThemeIcons: boolean = false) {\n        this.#delegate = new BaseMarkdownString(value, { supportThemeIcons });\n    }\n\n    get value(): string {\n        return this.#delegate.value;\n    }\n    set value(value: string) {\n        this.#delegate.value = value;\n    }\n\n    get isTrusted(): boolean | undefined {\n        return this.#delegate.isTrusted;\n    }\n\n    set isTrusted(value: boolean | undefined) {\n        this.#delegate.isTrusted = value;\n    }\n\n    get supportThemeIcons(): boolean | undefined {\n        return this.#delegate.supportThemeIcons;\n    }\n\n    set supportThemeIcons(value: boolean | undefined) {\n        this.#delegate.supportThemeIcons = value;\n    }\n\n    get supportHtml(): boolean | undefined {\n        return this.#delegate.supportHtml;\n    }\n\n    set supportHtml(value: boolean | undefined) {\n        this.#delegate.supportHtml = value;\n    }\n\n    get baseUri(): pluginAPI.Uri | undefined {\n        return URI.revive(this.#delegate.baseUri);\n    }\n\n    set baseUri(value: pluginAPI.Uri | undefined) {\n        this.#delegate.baseUri = value;\n    }\n\n    appendText(value: string): pluginAPI.MarkdownString {\n        this.#delegate.appendText(value);\n        return this;\n    }\n\n    appendMarkdown(value: string): pluginAPI.MarkdownString {\n        this.#delegate.appendMarkdown(value);\n        return this;\n    }\n\n    appendCodeblock(value: string, language?: string): pluginAPI.MarkdownString {\n        this.#delegate.appendCodeblock(language ?? '', value);\n        return this;\n    }\n\n    toJSON(): MarkdownStringInterface {\n        const plainObject: Mutable<MarkdownStringInterface> = { value: this.value };\n        if (this.isTrusted !== undefined) {\n            plainObject.isTrusted = this.isTrusted;\n        }\n        if (this.supportThemeIcons !== undefined) {\n            plainObject.supportThemeIcons = this.supportThemeIcons;\n        }\n        if (this.supportHtml !== undefined) {\n            plainObject.supportHtml = this.supportHtml;\n        }\n        if (this.baseUri !== undefined) {\n            plainObject.baseUri = this.baseUri.toJSON();\n        }\n        return plainObject;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as theia from '@theia/plugin';\nimport * as lstypes from '@theia/core/shared/vscode-languageserver-protocol';\nimport { InlineValueEvaluatableExpression, InlineValueText, InlineValueVariableLookup, QuickPickItemKind, URI } from './types-impl';\nimport * as rpc from '../common/plugin-api-rpc';\nimport {\n    DecorationOptions, EditorPosition, Plugin, Position, WorkspaceTextEditDto, WorkspaceFileEditDto, Selection, TaskDto, WorkspaceEditDto\n} from '../common/plugin-api-rpc';\nimport * as model from '../common/plugin-api-rpc-model';\nimport { LanguageFilter, LanguageSelector, RelativePattern } from '@theia/editor/lib/common/language-selector';\nimport { MarkdownString as PluginMarkdownStringImpl } from './markdown-string';\nimport * as types from './types-impl';\nimport { UriComponents } from '../common/uri-components';\nimport { isReadonlyArray } from '../common/arrays';\nimport { MarkdownString as MarkdownStringDTO } from '@theia/core/lib/common/markdown-rendering';\nimport { DisposableCollection, isEmptyObject, isObject } from '@theia/core/lib/common';\nimport * as notebooks from '@theia/notebook/lib/common';\nimport { CommandsConverter } from './command-registry';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\nimport { CellData, CellExecutionUpdateType, CellOutput, CellOutputItem, CellRange, isTextStreamMime } from '@theia/notebook/lib/common';\nimport { CellExecuteUpdate, CellExecutionComplete } from '@theia/notebook/lib/browser';\n\nconst SIDE_GROUP = -2;\nconst ACTIVE_GROUP = -1;\n\nexport function toViewColumn(ep?: EditorPosition): theia.ViewColumn | undefined {\n    if (typeof ep !== 'number') {\n        return undefined;\n    }\n\n    if (ep === EditorPosition.ONE) {\n        return <number>types.ViewColumn.One;\n    } else if (ep === EditorPosition.TWO) {\n        return <number>types.ViewColumn.Two;\n    } else if (ep === EditorPosition.THREE) {\n        return <number>types.ViewColumn.Three;\n    } else if (ep === EditorPosition.FOUR) {\n        return <number>types.ViewColumn.Four;\n    } else if (ep === EditorPosition.FIVE) {\n        return <number>types.ViewColumn.Five;\n    } else if (ep === EditorPosition.SIX) {\n        return <number>types.ViewColumn.Six;\n    } else if (ep === EditorPosition.SEVEN) {\n        return <number>types.ViewColumn.Seven;\n    } else if (ep === EditorPosition.EIGHT) {\n        return <number>types.ViewColumn.Eight;\n    } else if (ep === EditorPosition.NINE) {\n        return <number>types.ViewColumn.Nine;\n    }\n\n    return undefined;\n}\n\nexport function fromViewColumn(column?: theia.ViewColumn): number {\n    if (typeof column === 'number' && column >= types.ViewColumn.One) {\n        return column - 1;\n    }\n\n    if (column! === <number>types.ViewColumn.Beside) {\n        return SIDE_GROUP;\n    }\n\n    return ACTIVE_GROUP;\n}\n\nexport function toWebviewPanelShowOptions(options: theia.ViewColumn | theia.WebviewPanelShowOptions): theia.WebviewPanelShowOptions {\n    if (typeof options === 'object') {\n        const showOptions = options as theia.WebviewPanelShowOptions;\n        return {\n            area: showOptions.area ? showOptions.area : types.WebviewPanelTargetArea.Main,\n            viewColumn: showOptions.viewColumn ? fromViewColumn(showOptions.viewColumn) : undefined,\n            preserveFocus: showOptions.preserveFocus ? showOptions.preserveFocus : false\n        };\n    }\n\n    return {\n        area: types.WebviewPanelTargetArea.Main,\n        viewColumn: fromViewColumn(options as theia.ViewColumn),\n        preserveFocus: false\n    };\n}\n\nexport function toSelection(selection: Selection): types.Selection {\n    const { selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn } = selection;\n    const start = new types.Position(selectionStartLineNumber - 1, selectionStartColumn - 1);\n    const end = new types.Position(positionLineNumber - 1, positionColumn - 1);\n    return new types.Selection(start, end);\n}\n\nexport function fromSelection(selection: types.Selection): Selection {\n    const { active, anchor } = selection;\n    return {\n        selectionStartLineNumber: anchor.line + 1,\n        selectionStartColumn: anchor.character + 1,\n        positionLineNumber: active.line + 1,\n        positionColumn: active.character + 1\n    };\n}\n\nexport function toRange(range: model.Range): types.Range {\n    const { startLineNumber, startColumn, endLineNumber, endColumn } = range;\n    return new types.Range(startLineNumber - 1, startColumn - 1, endLineNumber - 1, endColumn - 1);\n}\n\nexport function fromRange(range: undefined): undefined;\nexport function fromRange(range: theia.Range): model.Range;\nexport function fromRange(range: theia.Range | undefined): model.Range | undefined;\nexport function fromRange(range: theia.Range | undefined): model.Range | undefined {\n    if (!range) {\n        return undefined;\n    }\n    const { start, end } = range;\n    return {\n        startLineNumber: start.line + 1,\n        startColumn: start.character + 1,\n        endLineNumber: end.line + 1,\n        endColumn: end.character + 1\n    };\n}\n\nexport function fromPosition(position: types.Position | theia.Position): Position {\n    return { lineNumber: position.line + 1, column: position.character + 1 };\n}\n\nexport function toPosition(position: Position): types.Position {\n    return new types.Position(position.lineNumber - 1, position.column - 1);\n}\n\nfunction isDecorationOptions(arg: unknown): arg is theia.DecorationOptions {\n    return isObject<theia.DecorationOptions>(arg) && typeof arg.range !== 'undefined';\n}\n\nexport function isDecorationOptionsArr(something: theia.Range[] | theia.DecorationOptions[]): something is theia.DecorationOptions[] {\n    if (something.length === 0) {\n        return true;\n    }\n    return isDecorationOptions(something[0]) ? true : false;\n}\n\nexport function fromRangeOrRangeWithMessage(ranges: theia.Range[] | theia.DecorationOptions[]): DecorationOptions[] {\n\n    if (isDecorationOptionsArr(ranges)) {\n        return ranges.map(r => {\n            let hoverMessage;\n            if (Array.isArray(r.hoverMessage)) {\n                hoverMessage = fromManyMarkdown(r.hoverMessage);\n            } else if (r.hoverMessage) {\n                hoverMessage = fromMarkdown(r.hoverMessage);\n            } else {\n                hoverMessage = undefined;\n            }\n            return {\n                range: fromRange(r.range)!,\n                hoverMessage: hoverMessage,\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                renderOptions: <any> /* URI vs Uri */r.renderOptions\n            };\n        });\n    } else {\n        return ranges.map(r => ({ range: fromRange(r) }));\n    }\n}\n\nexport function fromManyMarkdown(markup: (theia.MarkdownString | theia.MarkedString)[]): MarkdownStringDTO[] {\n    return markup.map(fromMarkdown);\n}\n\ninterface Codeblock {\n    language: string;\n    value: string;\n}\n\nfunction isCodeblock(arg: unknown): arg is Codeblock {\n    return isObject<Codeblock>(arg)\n        && typeof arg.language === 'string'\n        && typeof arg.value === 'string';\n}\n\nexport function fromMarkdown(markup: theia.MarkdownString | theia.MarkedString): MarkdownStringDTO {\n    if (isCodeblock(markup)) {\n        const { language, value } = markup;\n        return { value: '```' + language + '\\n' + value + '\\n```\\n' };\n    } else if (markup instanceof PluginMarkdownStringImpl) {\n        return markup.toJSON();\n    } else if (MarkdownStringDTO.is(markup)) {\n        return markup;\n    } else if (typeof markup === 'string') {\n        return { value: markup };\n    } else {\n        return { value: '' };\n    }\n}\n\nexport function fromMarkdownOrString(value: string | theia.MarkdownString | undefined): string | MarkdownStringDTO | undefined {\n    if (value === undefined) {\n        return undefined;\n    } else if (typeof value === 'string') {\n        return value;\n    } else {\n        return fromMarkdown(value);\n    }\n}\n\nexport function toMarkdown(value: MarkdownStringDTO): PluginMarkdownStringImpl {\n    const implemented = new PluginMarkdownStringImpl(value.value, value.supportThemeIcons);\n    implemented.isTrusted = value.isTrusted;\n    implemented.supportHtml = value.supportHtml;\n    implemented.baseUri = value.baseUri && URI.revive(implemented.baseUri);\n    return implemented;\n}\n\nexport function fromDocumentSelector(selector: theia.DocumentSelector | undefined): LanguageSelector | undefined {\n    if (!selector) {\n        return undefined;\n    } else if (isReadonlyArray(selector)) {\n        return <LanguageSelector>selector.map(fromDocumentSelector);\n    } else if (typeof selector === 'string') {\n        return selector;\n    } else {\n        return {\n            language: selector.language,\n            scheme: selector.scheme,\n            pattern: fromGlobPattern(selector.pattern!)\n        } as LanguageFilter;\n    }\n\n}\n\nexport function fromGlobPattern(pattern: theia.GlobPattern): string | RelativePattern {\n    if (typeof pattern === 'string') {\n        return pattern;\n    }\n\n    if (isRelativePattern(pattern)) {\n        return new types.RelativePattern(pattern.baseUri, pattern.pattern);\n    }\n\n    return pattern;\n}\n\nfunction isRelativePattern(obj: {}): obj is theia.RelativePattern {\n    const rp = obj as theia.RelativePattern;\n    return rp && typeof rp.baseUri === 'string' && typeof rp.pattern === 'string';\n}\n\nexport function fromCompletionItemKind(kind?: types.CompletionItemKind): model.CompletionItemKind {\n    switch (kind) {\n        case types.CompletionItemKind.Method: return model.CompletionItemKind.Method;\n        case types.CompletionItemKind.Function: return model.CompletionItemKind.Function;\n        case types.CompletionItemKind.Constructor: return model.CompletionItemKind.Constructor;\n        case types.CompletionItemKind.Field: return model.CompletionItemKind.Field;\n        case types.CompletionItemKind.Variable: return model.CompletionItemKind.Variable;\n        case types.CompletionItemKind.Class: return model.CompletionItemKind.Class;\n        case types.CompletionItemKind.Interface: return model.CompletionItemKind.Interface;\n        case types.CompletionItemKind.Struct: return model.CompletionItemKind.Struct;\n        case types.CompletionItemKind.Module: return model.CompletionItemKind.Module;\n        case types.CompletionItemKind.Property: return model.CompletionItemKind.Property;\n        case types.CompletionItemKind.Unit: return model.CompletionItemKind.Unit;\n        case types.CompletionItemKind.Value: return model.CompletionItemKind.Value;\n        case types.CompletionItemKind.Constant: return model.CompletionItemKind.Constant;\n        case types.CompletionItemKind.Enum: return model.CompletionItemKind.Enum;\n        case types.CompletionItemKind.EnumMember: return model.CompletionItemKind.EnumMember;\n        case types.CompletionItemKind.Keyword: return model.CompletionItemKind.Keyword;\n        case types.CompletionItemKind.Snippet: return model.CompletionItemKind.Snippet;\n        case types.CompletionItemKind.Text: return model.CompletionItemKind.Text;\n        case types.CompletionItemKind.Color: return model.CompletionItemKind.Color;\n        case types.CompletionItemKind.File: return model.CompletionItemKind.File;\n        case types.CompletionItemKind.Reference: return model.CompletionItemKind.Reference;\n        case types.CompletionItemKind.Folder: return model.CompletionItemKind.Folder;\n        case types.CompletionItemKind.Event: return model.CompletionItemKind.Event;\n        case types.CompletionItemKind.Operator: return model.CompletionItemKind.Operator;\n        case types.CompletionItemKind.TypeParameter: return model.CompletionItemKind.TypeParameter;\n        case types.CompletionItemKind.User: return model.CompletionItemKind.User;\n        case types.CompletionItemKind.Issue: return model.CompletionItemKind.Issue;\n    }\n    return model.CompletionItemKind.Property;\n}\n\nexport function toCompletionItemKind(kind?: model.CompletionItemKind): types.CompletionItemKind {\n    switch (kind) {\n        case model.CompletionItemKind.Method: return types.CompletionItemKind.Method;\n        case model.CompletionItemKind.Function: return types.CompletionItemKind.Function;\n        case model.CompletionItemKind.Constructor: return types.CompletionItemKind.Constructor;\n        case model.CompletionItemKind.Field: return types.CompletionItemKind.Field;\n        case model.CompletionItemKind.Variable: return types.CompletionItemKind.Variable;\n        case model.CompletionItemKind.Class: return types.CompletionItemKind.Class;\n        case model.CompletionItemKind.Interface: return types.CompletionItemKind.Interface;\n        case model.CompletionItemKind.Struct: return types.CompletionItemKind.Struct;\n        case model.CompletionItemKind.Module: return types.CompletionItemKind.Module;\n        case model.CompletionItemKind.Property: return types.CompletionItemKind.Property;\n        case model.CompletionItemKind.Unit: return types.CompletionItemKind.Unit;\n        case model.CompletionItemKind.Value: return types.CompletionItemKind.Value;\n        case model.CompletionItemKind.Constant: return types.CompletionItemKind.Constant;\n        case model.CompletionItemKind.Enum: return types.CompletionItemKind.Enum;\n        case model.CompletionItemKind.EnumMember: return types.CompletionItemKind.EnumMember;\n        case model.CompletionItemKind.Keyword: return types.CompletionItemKind.Keyword;\n        case model.CompletionItemKind.Snippet: return types.CompletionItemKind.Snippet;\n        case model.CompletionItemKind.Text: return types.CompletionItemKind.Text;\n        case model.CompletionItemKind.Color: return types.CompletionItemKind.Color;\n        case model.CompletionItemKind.File: return types.CompletionItemKind.File;\n        case model.CompletionItemKind.Reference: return types.CompletionItemKind.Reference;\n        case model.CompletionItemKind.Folder: return types.CompletionItemKind.Folder;\n        case model.CompletionItemKind.Event: return types.CompletionItemKind.Event;\n        case model.CompletionItemKind.Operator: return types.CompletionItemKind.Operator;\n        case model.CompletionItemKind.TypeParameter: return types.CompletionItemKind.TypeParameter;\n        case model.CompletionItemKind.User: return types.CompletionItemKind.User;\n        case model.CompletionItemKind.Issue: return types.CompletionItemKind.Issue;\n    }\n    return types.CompletionItemKind.Property;\n}\n\nexport function fromTextEdit(edit: theia.TextEdit): model.TextEdit {\n    return {\n        text: edit.newText,\n        range: fromRange(edit.range)\n    };\n}\n\nfunction fromSnippetTextEdit(edit: theia.SnippetTextEdit): model.TextEdit & { insertAsSnippet?: boolean } {\n    return {\n        text: edit.snippet.value,\n        range: fromRange(edit.range),\n        insertAsSnippet: true\n    };\n}\n\nexport function convertDiagnosticToMarkerData(diagnostic: theia.Diagnostic): model.MarkerData {\n    return {\n        code: convertCode(diagnostic.code),\n        severity: convertSeverity(diagnostic.severity),\n        message: diagnostic.message,\n        source: diagnostic.source,\n        startLineNumber: diagnostic.range.start.line + 1,\n        startColumn: diagnostic.range.start.character + 1,\n        endLineNumber: diagnostic.range.end.line + 1,\n        endColumn: diagnostic.range.end.character + 1,\n        relatedInformation: convertRelatedInformation(diagnostic.relatedInformation),\n        tags: convertTags(diagnostic.tags)\n    };\n}\n\nexport function convertCode(code: string | number | { value: string | number; target: theia.Uri } | undefined): string | undefined {\n    if (typeof code === 'number') {\n        return String(code);\n    }\n    if (typeof code === 'string' || typeof code === 'undefined') {\n        return code;\n    } else {\n        return String(code.value);\n    };\n}\n\nfunction convertSeverity(severity: types.DiagnosticSeverity): types.MarkerSeverity {\n    switch (severity) {\n        case types.DiagnosticSeverity.Error: return types.MarkerSeverity.Error;\n        case types.DiagnosticSeverity.Warning: return types.MarkerSeverity.Warning;\n        case types.DiagnosticSeverity.Information: return types.MarkerSeverity.Info;\n        case types.DiagnosticSeverity.Hint: return types.MarkerSeverity.Hint;\n    }\n}\n\nfunction convertRelatedInformation(diagnosticsRelatedInformation: theia.DiagnosticRelatedInformation[] | undefined): model.RelatedInformation[] | undefined {\n    if (!diagnosticsRelatedInformation) {\n        return undefined;\n    }\n\n    const relatedInformation: model.RelatedInformation[] = [];\n    for (const item of diagnosticsRelatedInformation) {\n        relatedInformation.push({\n            resource: item.location.uri.toString(),\n            message: item.message,\n            startLineNumber: item.location.range.start.line + 1,\n            startColumn: item.location.range.start.character + 1,\n            endLineNumber: item.location.range.end.line + 1,\n            endColumn: item.location.range.end.character + 1\n        });\n    }\n    return relatedInformation;\n}\n\nfunction convertTags(tags: types.DiagnosticTag[] | undefined): types.MarkerTag[] | undefined {\n    if (!tags) {\n        return undefined;\n    }\n\n    const markerTags: types.MarkerTag[] = [];\n    for (const tag of tags) {\n        switch (tag) {\n            case types.DiagnosticTag.Unnecessary:\n                markerTags.push(types.MarkerTag.Unnecessary);\n                break;\n            case types.DiagnosticTag.Deprecated:\n                markerTags.push(types.MarkerTag.Deprecated);\n                break;\n        }\n    }\n    return markerTags;\n}\n\nexport function fromHover(hover: theia.Hover): model.Hover {\n    return <model.Hover>{\n        range: fromRange(hover.range),\n        contents: fromManyMarkdown(hover.contents)\n    };\n}\n\nexport function fromEvaluatableExpression(evaluatableExpression: theia.EvaluatableExpression): model.EvaluatableExpression {\n    return <model.EvaluatableExpression>{\n        range: fromRange(evaluatableExpression.range),\n        expression: evaluatableExpression.expression\n    };\n}\n\nexport function fromInlineValue(inlineValue: theia.InlineValue): model.InlineValue {\n    if (inlineValue instanceof InlineValueText) {\n        return <model.InlineValueText>{\n            type: 'text',\n            range: fromRange(inlineValue.range),\n            text: inlineValue.text\n        };\n    } else if (inlineValue instanceof InlineValueVariableLookup) {\n        return <model.InlineValueVariableLookup>{\n            type: 'variable',\n            range: fromRange(inlineValue.range),\n            variableName: inlineValue.variableName,\n            caseSensitiveLookup: inlineValue.caseSensitiveLookup\n        };\n    } else if (inlineValue instanceof InlineValueEvaluatableExpression) {\n        return <model.InlineValueEvaluatableExpression>{\n            type: 'expression',\n            range: fromRange(inlineValue.range),\n            expression: inlineValue.expression\n        };\n    } else {\n        throw new Error('Unknown InlineValue type');\n    }\n}\n\nexport function toInlineValueContext(inlineValueContext: model.InlineValueContext): theia.InlineValueContext {\n    const ivLocation = inlineValueContext.stoppedLocation;\n    return <theia.InlineValueContext>{\n        frameId: inlineValueContext.frameId,\n        stoppedLocation: new types.Range(ivLocation.startLineNumber, ivLocation.startColumn, ivLocation.endLineNumber, ivLocation.endColumn)\n    };\n}\n\nexport function fromLocation(location: theia.Location): model.Location {\n    return <model.Location>{\n        uri: location.uri,\n        range: fromRange(location.range)\n    };\n}\n\nexport function fromTextDocumentShowOptions(options: theia.TextDocumentShowOptions): model.TextDocumentShowOptions {\n    if (options.selection) {\n        return {\n            ...options,\n            selection: fromRange(options.selection),\n        };\n    }\n    return options as model.TextDocumentShowOptions;\n}\n\nexport function fromDefinitionLink(definitionLink: theia.DefinitionLink): model.LocationLink {\n    return <model.LocationLink>{\n        uri: definitionLink.targetUri,\n        range: fromRange(definitionLink.targetRange),\n        originSelectionRange: definitionLink.originSelectionRange ? fromRange(definitionLink.originSelectionRange) : undefined,\n        targetSelectionRange: definitionLink.targetSelectionRange ? fromRange(definitionLink.targetSelectionRange) : undefined\n    };\n}\n\nexport namespace DocumentLink {\n\n    export function from(link: theia.DocumentLink): model.DocumentLink {\n        return {\n            range: fromRange(link.range),\n            url: link.target,\n            tooltip: link.tooltip\n        };\n    }\n\n    export function to(link: model.DocumentLink): theia.DocumentLink {\n        let target: URI | undefined = undefined;\n        if (link.url) {\n            try {\n                target = typeof link.url === 'string' ? URI.parse(link.url, true) : URI.revive(link.url);\n            } catch (err) {\n                // ignore\n            }\n        }\n        return new types.DocumentLink(toRange(link.range), target);\n    }\n}\n\nexport function fromDocumentHighlightKind(kind?: theia.DocumentHighlightKind): model.DocumentHighlightKind | undefined {\n    switch (kind) {\n        case types.DocumentHighlightKind.Text: return model.DocumentHighlightKind.Text;\n        case types.DocumentHighlightKind.Read: return model.DocumentHighlightKind.Read;\n        case types.DocumentHighlightKind.Write: return model.DocumentHighlightKind.Write;\n    }\n    return model.DocumentHighlightKind.Text;\n}\n\nexport function fromDocumentHighlight(documentHighlight: theia.DocumentHighlight): model.DocumentHighlight {\n    return <model.DocumentHighlight>{\n        range: fromRange(documentHighlight.range),\n        kind: fromDocumentHighlightKind(documentHighlight.kind)\n    };\n}\n\nexport namespace ParameterInformation {\n    export function from(info: types.ParameterInformation): model.ParameterInformation {\n        return {\n            label: info.label,\n            documentation: info.documentation ? fromMarkdown(info.documentation) : undefined\n        };\n    }\n    export function to(info: model.ParameterInformation): types.ParameterInformation {\n        return {\n            label: info.label,\n            documentation: MarkdownStringDTO.is(info.documentation) ? toMarkdown(info.documentation) : info.documentation\n        };\n    }\n}\n\nexport namespace SignatureInformation {\n\n    export function from(info: types.SignatureInformation): model.SignatureInformation {\n        return {\n            label: info.label,\n            documentation: info.documentation ? fromMarkdown(info.documentation) : undefined,\n            parameters: info.parameters && info.parameters.map(ParameterInformation.from),\n            activeParameter: info.activeParameter\n        };\n    }\n\n    export function to(info: model.SignatureInformation): types.SignatureInformation {\n        return {\n            label: info.label,\n            documentation: MarkdownStringDTO.is(info.documentation) ? toMarkdown(info.documentation) : info.documentation,\n            parameters: info.parameters && info.parameters.map(ParameterInformation.to),\n            activeParameter: info.activeParameter\n        };\n    }\n}\n\nexport namespace SignatureHelp {\n\n    export function from(id: number, help: types.SignatureHelp): model.SignatureHelp {\n        return {\n            id,\n            activeSignature: help.activeSignature,\n            activeParameter: help.activeParameter,\n            signatures: help.signatures && help.signatures.map(SignatureInformation.from)\n        };\n    }\n\n    export function to(help: model.SignatureHelp): types.SignatureHelp {\n        return {\n            activeSignature: help.activeSignature,\n            activeParameter: help.activeParameter,\n            signatures: help.signatures && help.signatures.map(SignatureInformation.to)\n        };\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function fromWorkspaceEdit(value: theia.WorkspaceEdit, documents?: any): WorkspaceEditDto {\n    const result: WorkspaceEditDto = {\n        edits: []\n    };\n    for (const entry of (value as types.WorkspaceEdit)._allEntries()) {\n        if (entry?._type === types.FileEditType.Text) {\n            // text edits\n            const doc = documents ? documents.getDocument(entry.uri.toString()) : undefined;\n            const workspaceTextEditDto: WorkspaceTextEditDto = {\n                resource: entry.uri,\n                modelVersionId: doc?.version,\n                textEdit: (entry.edit instanceof types.TextEdit) ? fromTextEdit(entry.edit) : fromSnippetTextEdit(entry.edit),\n                metadata: entry.metadata\n            };\n            result.edits.push(workspaceTextEditDto);\n        } else if (entry?._type === types.FileEditType.File) {\n            // resource edits\n            const workspaceFileEditDto: WorkspaceFileEditDto = {\n                oldResource: entry.from,\n                newResource: entry.to,\n                options: entry.options,\n                metadata: entry.metadata\n            };\n            result.edits.push(workspaceFileEditDto);\n        } else if (entry?._type === types.FileEditType.Cell) {\n            // cell edit\n            if (entry.edit) {\n                result.edits.push({\n                    metadata: entry.metadata,\n                    resource: entry.uri,\n                    cellEdit: entry.edit,\n                });\n            }\n        } else if (entry?._type === types.FileEditType.CellReplace) {\n            // cell replace\n            result.edits.push({\n                metadata: entry.metadata,\n                resource: entry.uri,\n                cellEdit: {\n                    editType: notebooks.CellEditType.Replace,\n                    index: entry.index,\n                    count: entry.count,\n                    cells: entry.cells.map(NotebookCellData.from)\n                }\n            });\n        }\n    }\n    return result;\n}\n\nexport namespace SymbolKind {\n    const fromMapping: { [kind: number]: model.SymbolKind } = Object.create(null);\n    fromMapping[model.SymbolKind.File] = model.SymbolKind.File;\n    fromMapping[model.SymbolKind.Module] = model.SymbolKind.Module;\n    fromMapping[model.SymbolKind.Namespace] = model.SymbolKind.Namespace;\n    fromMapping[model.SymbolKind.Package] = model.SymbolKind.Package;\n    fromMapping[model.SymbolKind.Class] = model.SymbolKind.Class;\n    fromMapping[model.SymbolKind.Method] = model.SymbolKind.Method;\n    fromMapping[model.SymbolKind.Property] = model.SymbolKind.Property;\n    fromMapping[model.SymbolKind.Field] = model.SymbolKind.Field;\n    fromMapping[model.SymbolKind.Constructor] = model.SymbolKind.Constructor;\n    fromMapping[model.SymbolKind.Enum] = model.SymbolKind.Enum;\n    fromMapping[model.SymbolKind.Interface] = model.SymbolKind.Interface;\n    fromMapping[model.SymbolKind.Function] = model.SymbolKind.Function;\n    fromMapping[model.SymbolKind.Variable] = model.SymbolKind.Variable;\n    fromMapping[model.SymbolKind.Constant] = model.SymbolKind.Constant;\n    fromMapping[model.SymbolKind.String] = model.SymbolKind.String;\n    fromMapping[model.SymbolKind.Number] = model.SymbolKind.Number;\n    fromMapping[model.SymbolKind.Boolean] = model.SymbolKind.Boolean;\n    fromMapping[model.SymbolKind.Array] = model.SymbolKind.Array;\n    fromMapping[model.SymbolKind.Object] = model.SymbolKind.Object;\n    fromMapping[model.SymbolKind.Key] = model.SymbolKind.Key;\n    fromMapping[model.SymbolKind.Null] = model.SymbolKind.Null;\n    fromMapping[model.SymbolKind.EnumMember] = model.SymbolKind.EnumMember;\n    fromMapping[model.SymbolKind.Struct] = model.SymbolKind.Struct;\n    fromMapping[model.SymbolKind.Event] = model.SymbolKind.Event;\n    fromMapping[model.SymbolKind.Operator] = model.SymbolKind.Operator;\n    fromMapping[model.SymbolKind.TypeParameter] = model.SymbolKind.TypeParameter;\n\n    export function fromSymbolKind(kind: theia.SymbolKind): model.SymbolKind {\n        return fromMapping[kind] || model.SymbolKind.Property;\n    }\n\n    export function toSymbolKind(kind: model.SymbolKind): theia.SymbolKind {\n        for (const k in fromMapping) {\n            if (fromMapping[k] === kind) {\n                return Number(k);\n            }\n        }\n        return model.SymbolKind.Property;\n    }\n}\n\nexport function toCodeActionTriggerKind(triggerKind: model.CodeActionTriggerKind): types.CodeActionTriggerKind {\n    switch (triggerKind) {\n        case model.CodeActionTriggerKind.Invoke:\n            return types.CodeActionTriggerKind.Invoke;\n\n        case model.CodeActionTriggerKind.Automatic:\n            return types.CodeActionTriggerKind.Automatic;\n    }\n}\n\nexport function fromDocumentSymbol(info: theia.DocumentSymbol): model.DocumentSymbol {\n    const result: model.DocumentSymbol = {\n        name: info.name,\n        detail: info.detail,\n        range: fromRange(info.range)!,\n        tags: info.tags ? info.tags.map(fromSymbolTag) : [],\n        selectionRange: fromRange(info.selectionRange)!,\n        kind: SymbolKind.fromSymbolKind(info.kind)\n    };\n    if (info.children) {\n        result.children = info.children.map(fromDocumentSymbol);\n    }\n    return result;\n}\n\nexport function toDocumentSymbol(symbol: model.DocumentSymbol): theia.DocumentSymbol {\n    return {\n        name: symbol.name,\n        detail: symbol.detail,\n        range: toRange(symbol.range)!,\n        tags: symbol.tags && symbol.tags.length > 0 ? symbol.tags.map(toSymbolTag) : [],\n        selectionRange: toRange(symbol.selectionRange)!,\n        children: symbol.children ? symbol.children.map(toDocumentSymbol) : [],\n        kind: SymbolKind.toSymbolKind(symbol.kind)\n    };\n}\n\nexport function fromSymbolTag(kind: types.SymbolTag): model.SymbolTag {\n    switch (kind) {\n        case types.SymbolTag.Deprecated: return model.SymbolTag.Deprecated;\n    }\n}\n\nexport function toSymbolTag(kind: model.SymbolTag): types.SymbolTag {\n    switch (kind) {\n        case model.SymbolTag.Deprecated: return types.SymbolTag.Deprecated;\n    }\n}\n\nexport function isModelLocation(arg: unknown): arg is model.Location {\n    return isObject<model.Location>(arg) &&\n        isModelRange(arg.range) &&\n        isUriComponents(arg.uri);\n}\n\nexport function isModelRange(arg: unknown): arg is model.Range {\n    return isObject<model.Range>(arg) &&\n        typeof arg.startLineNumber === 'number' &&\n        typeof arg.startColumn === 'number' &&\n        typeof arg.endLineNumber === 'number' &&\n        typeof arg.endColumn === 'number';\n}\n\nexport function isUriComponents(arg: unknown): arg is UriComponents {\n    return isObject<UriComponents>(arg) &&\n        typeof arg.scheme === 'string' &&\n        typeof arg.path === 'string' &&\n        typeof arg.query === 'string' &&\n        typeof arg.fragment === 'string';\n}\n\nexport function isModelCallHierarchyItem(arg: unknown): arg is model.CallHierarchyItem {\n    return isObject<model.CallHierarchyItem>(arg)\n        && isModelRange(arg.range)\n        && isModelRange(arg.selectionRange)\n        && isUriComponents(arg.uri)\n        && !!arg.name;\n}\n\nexport function isModelCallHierarchyIncomingCall(arg: unknown): arg is model.CallHierarchyIncomingCall {\n    return isObject<model.CallHierarchyIncomingCall>(arg) &&\n        'from' in arg &&\n        'fromRanges' in arg &&\n        isModelCallHierarchyItem(arg.from);\n}\n\nexport function isModelCallHierarchyOutgoingCall(arg: unknown): arg is model.CallHierarchyOutgoingCall {\n    return isObject<model.CallHierarchyOutgoingCall>(arg) &&\n        'to' in arg &&\n        'fromRanges' in arg &&\n        isModelCallHierarchyItem(arg.to);\n}\n\nexport function toLocation(value: model.Location): types.Location {\n    return new types.Location(URI.revive(value.uri), toRange(value.range));\n}\n\nexport function fromHierarchyItem(item: types.CallHierarchyItem | types.TypeHierarchyItem): model.HierarchyItem {\n    return {\n        kind: SymbolKind.fromSymbolKind(item.kind),\n        name: item.name,\n        detail: item.detail,\n        uri: item.uri,\n        range: fromRange(item.range),\n        selectionRange: fromRange(item.selectionRange),\n        tags: item.tags,\n        _itemId: item._itemId,\n        _sessionId: item._sessionId,\n    };\n}\n\nexport function fromCallHierarchyItem(item: types.CallHierarchyItem): model.CallHierarchyItem {\n    return <model.CallHierarchyItem>fromHierarchyItem(item);\n}\n\nexport function toCallHierarchyItem(value: model.CallHierarchyItem): types.CallHierarchyItem {\n    const item = new types.CallHierarchyItem(\n        SymbolKind.toSymbolKind(value.kind),\n        value.name,\n        value.detail ? value.detail : '',\n        URI.revive(value.uri),\n        toRange(value.range),\n        toRange(value.selectionRange),\n    );\n    item.tags = value.tags;\n    item._itemId = value._itemId;\n    item._sessionId = value._sessionId;\n\n    return item;\n}\n\nexport function toCallHierarchyIncomingCall(value: model.CallHierarchyIncomingCall): types.CallHierarchyIncomingCall {\n    return new types.CallHierarchyIncomingCall(\n        toCallHierarchyItem(value.from),\n        value.fromRanges && value.fromRanges.map(toRange));\n}\n\nexport function toCallHierarchyOutgoingCall(value: model.CallHierarchyOutgoingCall): types.CallHierarchyOutgoingCall {\n    return new types.CallHierarchyOutgoingCall(\n        toCallHierarchyItem(value.to),\n        value.fromRanges && value.fromRanges.map(toRange));\n}\n\nexport function isModelTypeHierarchyItem(arg: unknown): arg is model.TypeHierarchyItem {\n    return isObject<model.TypeHierarchyItem>(arg)\n        && isModelRange(arg.range)\n        && isModelRange(arg.selectionRange)\n        && isUriComponents(arg.uri)\n        && !!arg.name;\n}\n\nexport function fromTypeHierarchyItem(item: types.TypeHierarchyItem): model.TypeHierarchyItem {\n    return <model.TypeHierarchyItem>fromHierarchyItem(item);\n}\n\nexport function toTypeHierarchyItem(value: model.TypeHierarchyItem): types.TypeHierarchyItem {\n    const item = new types.TypeHierarchyItem(\n        SymbolKind.toSymbolKind(value.kind),\n        value.name,\n        value.detail ? value.detail : '',\n        URI.revive(value.uri),\n        toRange(value.selectionRange),\n        toRange(value.range),\n    );\n    item.tags = value.tags;\n    item._itemId = value._itemId;\n    item._sessionId = value._sessionId;\n\n    return item;\n}\n\nexport function toWorkspaceFolder(folder: model.WorkspaceFolder): theia.WorkspaceFolder {\n    return {\n        uri: URI.revive(folder.uri),\n        name: folder.name,\n        index: folder.index\n    };\n}\n\nexport function fromTask(task: theia.Task): TaskDto | undefined {\n    if (!task) {\n        return undefined;\n    }\n\n    const taskDto = {} as TaskDto;\n    taskDto.label = task.name;\n    taskDto.source = task.source;\n\n    taskDto.runOptions = { reevaluateOnRerun: task.runOptions.reevaluateOnRerun };\n\n    if ((task as types.Task).hasProblemMatchers) {\n        taskDto.problemMatcher = task.problemMatchers;\n    }\n    if ('detail' in task) {\n        taskDto.detail = task.detail;\n    }\n    if (typeof task.scope === 'number') {\n        taskDto.scope = task.scope;\n    } else if (task.scope !== undefined) {\n        taskDto.scope = task.scope.uri.toString();\n    } else {\n        taskDto.scope = types.TaskScope.Workspace;\n    }\n\n    if (task.presentationOptions) {\n        taskDto.presentation = task.presentationOptions;\n    }\n\n    if (task.group) {\n        taskDto.group = {\n            kind: <rpc.TaskGroupKind>task.group.id,\n            isDefault: !!task.group.isDefault\n        };\n    }\n\n    const taskDefinition = task.definition;\n    if (!taskDefinition) {\n        return taskDto;\n    }\n\n    taskDto.type = taskDefinition.type;\n    const { type, ...properties } = taskDefinition;\n    for (const key in properties) {\n        if (properties.hasOwnProperty(key)) {\n            taskDto[key] = properties[key];\n        }\n    }\n\n    const execution = task.execution;\n    if (!execution) {\n        return taskDto;\n    }\n\n    if (types.ShellExecution.is(execution)) {\n        return fromShellExecution(execution, taskDto);\n    }\n\n    if (types.ProcessExecution.is(execution)) {\n        return fromProcessExecution(execution, taskDto);\n    }\n\n    if (types.CustomExecution.is(execution)) {\n        return fromCustomExecution(execution, taskDto);\n    }\n\n    return taskDto;\n}\n\nexport function toTask(taskDto: TaskDto): theia.Task {\n    if (!taskDto) {\n        throw new Error('Task should be provided for converting');\n    }\n\n    const { type, taskType, label, source, scope, problemMatcher, detail, command, args, options, group, presentation, runOptions, ...properties } = taskDto;\n    const result = {} as theia.Task;\n    result.name = label;\n    result.source = source;\n    result.runOptions = runOptions ?? {};\n    if (detail) {\n        result.detail = detail;\n    }\n    if (typeof scope === 'string') {\n        const uri = URI.parse(scope);\n        result.scope = {\n            uri,\n            name: uri.toString(),\n            index: 0\n        };\n    } else {\n        result.scope = scope;\n    }\n\n    const taskDefinition: theia.TaskDefinition = {\n        type: type\n    };\n\n    result.definition = taskDefinition;\n\n    if (taskType === 'process') {\n        result.execution = getProcessExecution(taskDto);\n    }\n\n    const execution = { command, args, options };\n    if (taskType === 'shell' || types.ShellExecution.is(execution)) {\n        result.execution = getShellExecution(taskDto);\n    }\n\n    if (taskType === 'customExecution' || types.CustomExecution.is(execution)) {\n        result.execution = getCustomExecution(taskDto);\n        // if taskType is customExecution, we need to put all the information into taskDefinition,\n        // because some parameters may be in taskDefinition.\n        taskDefinition.label = label;\n        taskDefinition.command = command;\n        taskDefinition.args = args;\n        taskDefinition.options = options;\n    }\n\n    if (group) {\n        result.group = new types.TaskGroup(\n            group.kind,\n            group.kind,\n            group.isDefault\n        );\n    }\n\n    if (presentation) {\n        result.presentationOptions = presentation;\n    }\n\n    if (!properties) {\n        return result;\n    }\n\n    for (const key in properties) {\n        if (properties.hasOwnProperty(key)) {\n            taskDefinition[key] = properties[key];\n        }\n    }\n\n    return result;\n}\n\nexport function fromProcessExecution(execution: theia.ProcessExecution, taskDto: TaskDto): TaskDto {\n    taskDto.taskType = 'process';\n    taskDto.command = execution.process;\n    taskDto.args = execution.args;\n\n    const options = execution.options;\n    if (options) {\n        taskDto.options = options;\n    }\n    return taskDto;\n}\n\nexport function fromShellExecution(execution: theia.ShellExecution, taskDto: TaskDto): TaskDto {\n    taskDto.taskType = 'shell';\n    const options = execution.options;\n    if (options) {\n        taskDto.options = getShellExecutionOptions(options);\n    }\n\n    const commandLine = execution.commandLine;\n    if (commandLine) {\n        taskDto.command = commandLine;\n        return taskDto;\n    }\n\n    if (execution.command) {\n        taskDto.command = getCommand(execution.command);\n        taskDto.args = getShellArgs(execution.args);\n        return taskDto;\n    } else {\n        throw new Error('Command is undefined');\n    }\n}\n\nexport function fromCustomExecution(execution: types.CustomExecution, taskDto: TaskDto): TaskDto {\n    taskDto.taskType = 'customExecution';\n    const callback = execution.callback;\n    if (callback) {\n        taskDto.callback = callback;\n        return taskDto;\n    } else {\n        throw new Error('Converting CustomExecution callback is not implemented');\n    }\n}\n\nexport function getProcessExecution(taskDto: TaskDto): theia.ProcessExecution {\n    return new types.ProcessExecution(\n        taskDto.command,\n        taskDto.args || [],\n        taskDto.options || {});\n}\n\nexport function getShellExecution(taskDto: TaskDto): theia.ShellExecution {\n    if (taskDto.command && Array.isArray(taskDto.args) && taskDto.args.length !== 0) {\n        return new types.ShellExecution(\n            taskDto.command,\n            taskDto.args,\n            taskDto.options || {});\n    }\n    return new types.ShellExecution(\n        taskDto.command || taskDto.commandLine,\n        taskDto.options || {});\n}\n\nexport function getCustomExecution(taskDto: TaskDto): theia.CustomExecution {\n    return new types.CustomExecution(taskDto.callback);\n}\n\nexport function getShellArgs(args: undefined | (string | theia.ShellQuotedString)[]): string[] {\n    if (!args || args.length === 0) {\n        return [];\n    }\n\n    const element = args[0];\n    if (typeof element === 'string') {\n        return args as string[];\n    }\n\n    const result: string[] = [];\n    const shellQuotedArgs = args as theia.ShellQuotedString[];\n\n    shellQuotedArgs.forEach(arg => {\n        result.push(arg.value);\n    });\n\n    return result;\n}\n\nfunction getCommand(command: string | theia.ShellQuotedString): string {\n    return typeof command === 'string' ? command : command.value;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getShellExecutionOptions(options: theia.ShellExecutionOptions): { [key: string]: any } {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const result = {} as { [key: string]: any };\n\n    const env = options.env;\n    if (env) {\n        result['env'] = env;\n    }\n\n    const executable = options.executable;\n    if (executable) {\n        result['executable'] = executable;\n    }\n\n    const shellQuoting = options.shellQuoting;\n    if (shellQuoting) {\n        result['shellQuoting'] = shellQuoting;\n    }\n\n    const shellArgs = options.shellArgs;\n    if (shellArgs) {\n        result['shellArgs'] = shellArgs;\n    }\n\n    const cwd = options.cwd;\n    if (cwd) {\n        Object.assign(result, { cwd });\n    }\n\n    return result;\n}\n\nexport function fromSymbolInformation(symbolInformation: theia.SymbolInformation): lstypes.SymbolInformation | undefined {\n    if (!symbolInformation) {\n        return undefined;\n    }\n\n    if (symbolInformation.location && symbolInformation.location.range) {\n        const p1 = lstypes.Position.create(symbolInformation.location.range.start.line, symbolInformation.location.range.start.character);\n        const p2 = lstypes.Position.create(symbolInformation.location.range.end.line, symbolInformation.location.range.end.character);\n        return lstypes.SymbolInformation.create(symbolInformation.name, symbolInformation.kind++ as lstypes.SymbolKind, lstypes.Range.create(p1, p2),\n            symbolInformation.location.uri.toString(), symbolInformation.containerName);\n    }\n\n    return {\n        name: symbolInformation.name,\n        containerName: symbolInformation.containerName,\n        kind: symbolInformation.kind++ as lstypes.SymbolKind,\n        location: {\n            uri: symbolInformation.location.uri.toString(),\n            range: symbolInformation.location.range,\n        }\n    };\n}\n\nexport function toSymbolInformation(symbolInformation: lstypes.SymbolInformation): theia.SymbolInformation | undefined {\n    if (!symbolInformation) {\n        return undefined;\n    }\n\n    return <theia.SymbolInformation>{\n        name: symbolInformation.name,\n        containerName: symbolInformation.containerName,\n        kind: symbolInformation.kind,\n        location: {\n            uri: URI.parse(symbolInformation.location.uri),\n            range: symbolInformation.location.range\n        }\n    };\n}\n\nexport function fromSelectionRange(selectionRange: theia.SelectionRange): model.SelectionRange {\n    return { range: fromRange(selectionRange.range) };\n}\n\nexport function fromFoldingRange(foldingRange: theia.FoldingRange): model.FoldingRange {\n    const range: model.FoldingRange = {\n        start: foldingRange.start + 1,\n        end: foldingRange.end + 1\n    };\n    if (foldingRange.kind) {\n        range.kind = fromFoldingRangeKind(foldingRange.kind);\n    }\n    return range;\n}\n\nexport function fromFoldingRangeKind(kind: theia.FoldingRangeKind | undefined): model.FoldingRangeKind | undefined {\n    if (kind) {\n        switch (kind) {\n            case types.FoldingRangeKind.Comment:\n                return model.FoldingRangeKind.Comment;\n            case types.FoldingRangeKind.Imports:\n                return model.FoldingRangeKind.Imports;\n            case types.FoldingRangeKind.Region:\n                return model.FoldingRangeKind.Region;\n        }\n    }\n    return undefined;\n}\n\nexport function fromColor(color: types.Color): [number, number, number, number] {\n    return [color.red, color.green, color.blue, color.alpha];\n}\n\nexport function toColor(color: [number, number, number, number]): types.Color {\n    return new types.Color(color[0], color[1], color[2], color[3]);\n}\n\nexport function fromColorPresentation(colorPresentation: theia.ColorPresentation): model.ColorPresentation {\n    return {\n        label: colorPresentation.label,\n        textEdit: colorPresentation.textEdit ? fromTextEdit(colorPresentation.textEdit) : undefined,\n        additionalTextEdits: colorPresentation.additionalTextEdits ? colorPresentation.additionalTextEdits.map(value => fromTextEdit(value)) : undefined\n    };\n}\n\nexport function convertToTransferQuickPickItems(items: rpc.Item[]): rpc.TransferQuickPickItems[] {\n    return items.map<rpc.TransferQuickPickItems>((item, index) => {\n        if (typeof item === 'string') {\n            return { type: 'item', label: item, handle: index };\n        } else if (item.kind === QuickPickItemKind.Separator) {\n            return { type: 'separator', label: item.label, handle: index };\n        } else {\n            const { label, description, detail, picked, alwaysShow, buttons } = item;\n            return {\n                type: 'item',\n                label,\n                description,\n                detail,\n                picked,\n                alwaysShow,\n                buttons,\n                handle: index,\n            };\n        }\n    });\n}\n\nexport namespace DecorationRenderOptions {\n    export function from(options: theia.DecorationRenderOptions): rpc.DecorationRenderOptions {\n        return {\n            isWholeLine: options.isWholeLine,\n            rangeBehavior: options.rangeBehavior ? DecorationRangeBehavior.from(options.rangeBehavior) : undefined,\n            overviewRulerLane: options.overviewRulerLane,\n            light: options.light ? ThemableDecorationRenderOptions.from(options.light) : undefined,\n            dark: options.dark ? ThemableDecorationRenderOptions.from(options.dark) : undefined,\n\n            backgroundColor: <string | types.ThemeColor>options.backgroundColor,\n            outline: options.outline,\n            outlineColor: <string | types.ThemeColor>options.outlineColor,\n            outlineStyle: options.outlineStyle,\n            outlineWidth: options.outlineWidth,\n            border: options.border,\n            borderColor: <string | types.ThemeColor>options.borderColor,\n            borderRadius: options.borderRadius,\n            borderSpacing: options.borderSpacing,\n            borderStyle: options.borderStyle,\n            borderWidth: options.borderWidth,\n            fontStyle: options.fontStyle,\n            fontWeight: options.fontWeight,\n            textDecoration: options.textDecoration,\n            cursor: options.cursor,\n            color: <string | types.ThemeColor>options.color,\n            opacity: options.opacity,\n            letterSpacing: options.letterSpacing,\n            gutterIconPath: options.gutterIconPath ? pathOrURIToURI(options.gutterIconPath) : undefined,\n            gutterIconSize: options.gutterIconSize,\n            overviewRulerColor: <string | types.ThemeColor>options.overviewRulerColor,\n            before: options.before ? ThemableDecorationAttachmentRenderOptions.from(options.before) : undefined,\n            after: options.after ? ThemableDecorationAttachmentRenderOptions.from(options.after) : undefined,\n        };\n    }\n}\n\nexport namespace DecorationRangeBehavior {\n    export function from(value: types.DecorationRangeBehavior): rpc.TrackedRangeStickiness {\n        if (typeof value === 'undefined') {\n            return value;\n        }\n        switch (value) {\n            case types.DecorationRangeBehavior.OpenOpen:\n                return rpc.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges;\n            case types.DecorationRangeBehavior.ClosedClosed:\n                return rpc.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges;\n            case types.DecorationRangeBehavior.OpenClosed:\n                return rpc.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore;\n            case types.DecorationRangeBehavior.ClosedOpen:\n                return rpc.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter;\n        }\n    }\n}\n\nexport namespace ThemableDecorationRenderOptions {\n    export function from(options: theia.ThemableDecorationRenderOptions): rpc.ThemeDecorationRenderOptions {\n        if (typeof options === 'undefined') {\n            return options;\n        }\n        return {\n            backgroundColor: <string | types.ThemeColor>options.backgroundColor,\n            outline: options.outline,\n            outlineColor: <string | types.ThemeColor>options.outlineColor,\n            outlineStyle: options.outlineStyle,\n            outlineWidth: options.outlineWidth,\n            border: options.border,\n            borderColor: <string | types.ThemeColor>options.borderColor,\n            borderRadius: options.borderRadius,\n            borderSpacing: options.borderSpacing,\n            borderStyle: options.borderStyle,\n            borderWidth: options.borderWidth,\n            fontStyle: options.fontStyle,\n            fontWeight: options.fontWeight,\n            textDecoration: options.textDecoration,\n            cursor: options.cursor,\n            color: <string | types.ThemeColor>options.color,\n            opacity: options.opacity,\n            letterSpacing: options.letterSpacing,\n            gutterIconPath: options.gutterIconPath ? pathOrURIToURI(options.gutterIconPath) : undefined,\n            gutterIconSize: options.gutterIconSize,\n            overviewRulerColor: <string | types.ThemeColor>options.overviewRulerColor,\n            before: options.before ? ThemableDecorationAttachmentRenderOptions.from(options.before) : undefined,\n            after: options.after ? ThemableDecorationAttachmentRenderOptions.from(options.after) : undefined,\n        };\n    }\n}\n\nexport namespace ThemableDecorationAttachmentRenderOptions {\n    export function from(options: theia.ThemableDecorationAttachmentRenderOptions): rpc.ContentDecorationRenderOptions {\n        if (typeof options === 'undefined') {\n            return options;\n        }\n        return {\n            contentText: options.contentText,\n            contentIconPath: options.contentIconPath ? pathOrURIToURI(options.contentIconPath) : undefined,\n            border: options.border,\n            borderColor: <string | types.ThemeColor>options.borderColor,\n            fontStyle: options.fontStyle,\n            fontWeight: options.fontWeight,\n            textDecoration: options.textDecoration,\n            color: <string | types.ThemeColor>options.color,\n            backgroundColor: <string | types.ThemeColor>options.backgroundColor,\n            margin: options.margin,\n            width: options.width,\n            height: options.height,\n        };\n    }\n}\n\nexport namespace ViewColumn {\n    export function from(column?: theia.ViewColumn): rpc.EditorGroupColumn {\n        if (typeof column === 'number' && column >= types.ViewColumn.One) {\n            return column - 1; // adjust zero index (ViewColumn.ONE => 0)\n        }\n\n        if (column === types.ViewColumn.Beside) {\n            return SIDE_GROUP;\n        }\n\n        return ACTIVE_GROUP; // default is always the active group\n    }\n\n    export function to(position: rpc.EditorGroupColumn): theia.ViewColumn {\n        if (typeof position === 'number' && position >= 0) {\n            return position + 1; // adjust to index (ViewColumn.ONE => 1)\n        }\n\n        throw new Error('invalid \\'EditorGroupColumn\\'');\n    }\n}\n\nexport function pathOrURIToURI(value: string | URI): URI {\n    if (typeof value === 'undefined') {\n        return value;\n    }\n    if (typeof value === 'string') {\n        return URI.file(value);\n    } else {\n        return value;\n    }\n}\n\nexport function pluginToPluginInfo(plugin: Plugin): rpc.PluginInfo {\n    return {\n        id: plugin.model.id,\n        name: plugin.model.name,\n        displayName: plugin.model.displayName\n    };\n}\n\nexport namespace InlayHintKind {\n    export function from(kind: theia.InlayHintKind): model.InlayHintKind {\n        return kind;\n    }\n    export function to(kind: model.InlayHintKind): theia.InlayHintKind {\n        return kind;\n    }\n}\n\nexport namespace DataTransferItem {\n    export function to(mime: string, item: model.DataTransferItemDTO, resolveFileData: (itemId: string) => Promise<Uint8Array>): theia.DataTransferItem {\n        const file = item.fileData;\n        if (file) {\n            return new class extends types.DataTransferItem {\n                override asFile(): theia.DataTransferFile {\n                    return {\n                        name: file.name,\n                        uri: URI.revive(file.uri),\n                        data: () => resolveFileData(item.id),\n                    };\n                }\n            }('');\n        }\n\n        if (mime === 'text/uri-list' && item.uriListData) {\n            return new types.DataTransferItem(reviveUriList(item.uriListData));\n        }\n\n        return new types.DataTransferItem(item.asString);\n    }\n\n    function reviveUriList(parts: ReadonlyArray<string | UriComponents>): string {\n        return parts.map(part => typeof part === 'string' ? part : URI.revive(part).toString()).join('\\r\\n');\n    }\n}\n\nexport namespace DataTransfer {\n    export function toDataTransfer(value: model.DataTransferDTO, resolveFileData: (itemId: string) => Promise<Uint8Array>): theia.DataTransfer {\n        const dataTransfer = new types.DataTransfer();\n        for (const [mimeType, item] of value.items) {\n            dataTransfer.set(mimeType, DataTransferItem.to(mimeType, item, resolveFileData));\n        }\n        return dataTransfer;\n    }\n}\n\nexport namespace NotebookDocumentContentOptions {\n    export function from(options: theia.NotebookDocumentContentOptions | undefined): notebooks.TransientOptions {\n        return {\n            transientOutputs: options?.transientOutputs ?? false,\n            transientCellMetadata: options?.transientCellMetadata ?? {},\n            transientDocumentMetadata: options?.transientDocumentMetadata ?? {},\n        };\n    }\n}\n\nexport namespace NotebookStatusBarItem {\n    export function from(item: theia.NotebookCellStatusBarItem, commandsConverter: CommandsConverter, disposables: DisposableCollection): notebooks.NotebookCellStatusBarItem {\n        const command = typeof item.command === 'string' ? { title: '', command: item.command } : item.command;\n        return {\n            alignment: item.alignment === types.NotebookCellStatusBarAlignment.Left ? notebooks.CellStatusbarAlignment.Left : notebooks.CellStatusbarAlignment.Right,\n            command: commandsConverter.toSafeCommand(command, disposables),\n            text: item.text,\n            tooltip: item.tooltip,\n            priority: item.priority\n        };\n    }\n}\n\nexport namespace NotebookData {\n\n    export function from(data: theia.NotebookData): rpc.NotebookDataDto {\n        const res: rpc.NotebookDataDto = {\n            metadata: data.metadata ?? Object.create(null),\n            cells: [],\n        };\n        for (const cell of data.cells) {\n            // types.NotebookCellData.validate(cell);\n            res.cells.push(NotebookCellData.from(cell));\n        }\n        return res;\n    }\n\n    export function to(data: rpc.NotebookDataDto): theia.NotebookData {\n        const res = new types.NotebookData(\n            data.cells.map(NotebookCellData.to),\n        );\n        if (!isEmptyObject(data.metadata)) {\n            res.metadata = data.metadata;\n        }\n        return res;\n    }\n}\n\nexport namespace NotebookCellData {\n\n    export function from(data: theia.NotebookCellData): rpc.NotebookCellDataDto {\n        return {\n            cellKind: NotebookCellKind.from(data.kind),\n            language: data.languageId,\n            source: data.value,\n            // metadata: data.metadata,\n            // internalMetadata: NotebookCellExecutionSummary.from(data.executionSummary ?? {}),\n            outputs: data.outputs ? data.outputs.map(NotebookCellOutputConverter.from) : []\n        };\n    }\n\n    export function to(data: rpc.NotebookCellDataDto): theia.NotebookCellData {\n        return new types.NotebookCellData(\n            NotebookCellKind.to(data.cellKind),\n            data.source,\n            data.language,\n            data.outputs ? data.outputs.map(NotebookCellOutput.to) : undefined,\n            data.metadata,\n            data.internalMetadata ? NotebookCellExecutionSummary.to(data.internalMetadata) : undefined\n        );\n    }\n}\n\nexport namespace NotebookCellKind {\n    export function from(data: theia.NotebookCellKind): notebooks.CellKind {\n        switch (data) {\n            case types.NotebookCellKind.Markup:\n                return notebooks.CellKind.Markup;\n            case types.NotebookCellKind.Code:\n            default:\n                return notebooks.CellKind.Code;\n        }\n    }\n\n    export function to(data: notebooks.CellKind): theia.NotebookCellKind {\n        switch (data) {\n            case notebooks.CellKind.Markup:\n                return types.NotebookCellKind.Markup;\n            case notebooks.CellKind.Code:\n            default:\n                return types.NotebookCellKind.Code;\n        }\n    }\n}\n\nexport namespace NotebookCellOutput {\n    export function from(output: theia.NotebookCellOutput & { outputId: string }): rpc.NotebookOutputDto {\n        return {\n            outputId: output.outputId,\n            items: output.items.map(NotebookCellOutputItem.from),\n            metadata: output.metadata\n        };\n    }\n\n    export function to(output: rpc.NotebookOutputDto): theia.NotebookCellOutput {\n        const items = output.items.map(NotebookCellOutputItem.to);\n        return new types.NotebookCellOutput(items, output.outputId, output.metadata);\n    }\n}\n\nexport namespace NotebookCellOutputItem {\n    export function from(item: types.NotebookCellOutputItem): rpc.NotebookOutputItemDto {\n        return {\n            mime: item.mime,\n            valueBytes: BinaryBuffer.wrap(item.data),\n        };\n    }\n\n    export function to(item: rpc.NotebookOutputItemDto): types.NotebookCellOutputItem {\n        return new types.NotebookCellOutputItem(item.valueBytes.buffer, item.mime);\n    }\n}\n\nexport namespace NotebookCellOutputConverter {\n    export function from(output: types.NotebookCellOutput): rpc.NotebookOutputDto {\n        return {\n            outputId: output.outputId,\n            items: output.items.map(NotebookCellOutputItem.from),\n            metadata: output.metadata\n        };\n    }\n\n    export function to(output: rpc.NotebookOutputDto): types.NotebookCellOutput {\n        const items = output.items.map(NotebookCellOutputItem.to);\n        return new types.NotebookCellOutput(items, output.outputId, output.metadata);\n    }\n\n    export function ensureUniqueMimeTypes(items: types.NotebookCellOutputItem[], warn: boolean = false): types.NotebookCellOutputItem[] {\n        const seen = new Set<string>();\n        const removeIdx = new Set<number>();\n        for (let i = 0; i < items.length; i++) {\n            const item = items[i];\n            // We can have multiple text stream mime types in the same output.\n            if (!seen.has(item.mime) || isTextStreamMime(item.mime)) {\n                seen.add(item.mime);\n                continue;\n            }\n            // duplicated mime types... first has won\n            removeIdx.add(i);\n            if (warn) {\n                console.warn(`DUPLICATED mime type '${item.mime}' will be dropped`);\n            }\n        }\n        if (removeIdx.size === 0) {\n            return items;\n        }\n        return items.filter((_, index) => !removeIdx.has(index));\n    }\n}\n\nexport namespace NotebookCellExecutionSummary {\n    export function to(data: notebooks.NotebookCellInternalMetadata): theia.NotebookCellExecutionSummary {\n        return {\n            timing: typeof data.runStartTime === 'number' && typeof data.runEndTime === 'number' ? { startTime: data.runStartTime, endTime: data.runEndTime } : undefined,\n            executionOrder: data.executionOrder,\n            success: data.lastRunSuccess\n        };\n    }\n\n    export function from(data: theia.NotebookCellExecutionSummary): Partial<notebooks.NotebookCellInternalMetadata> {\n        return {\n            lastRunSuccess: data.success,\n            runStartTime: data.timing?.startTime,\n            runEndTime: data.timing?.endTime,\n            executionOrder: data.executionOrder\n        };\n    }\n}\n\nexport namespace NotebookRange {\n\n    export function from(range: theia.NotebookRange): CellRange {\n        return { start: range.start, end: range.end };\n    }\n\n    export function to(range: CellRange): types.NotebookRange {\n        return new types.NotebookRange(range.start, range.end);\n    }\n}\n\nexport namespace NotebookKernelSourceAction {\n    export function from(item: theia.NotebookKernelSourceAction, commandsConverter: CommandsConverter, disposables: DisposableCollection): rpc.NotebookKernelSourceActionDto {\n        const command = typeof item.command === 'string' ? { title: '', command: item.command } : item.command;\n\n        return {\n            command: commandsConverter.toSafeCommand(command, disposables),\n            label: item.label,\n            description: item.description,\n            detail: item.detail,\n            documentation: item.documentation\n        };\n    }\n}\n\nexport namespace NotebookDto {\n\n    export function toNotebookOutputItemDto(item: CellOutputItem): rpc.NotebookOutputItemDto {\n        return {\n            mime: item.mime,\n            valueBytes: item.data\n        };\n    }\n\n    export function toNotebookOutputDto(output: CellOutput): rpc.NotebookOutputDto {\n        return {\n            outputId: output.outputId,\n            metadata: output.metadata,\n            items: output.outputs.map(toNotebookOutputItemDto)\n        };\n    }\n\n    export function toNotebookCellDataDto(cell: CellData): rpc.NotebookCellDataDto {\n        return {\n            cellKind: cell.cellKind,\n            language: cell.language,\n            source: cell.source,\n            internalMetadata: cell.internalMetadata,\n            metadata: cell.metadata,\n            outputs: cell.outputs.map(toNotebookOutputDto)\n        };\n    }\n\n    // export function toNotebookDataDto(data: NotebookData): rpc.NotebookDataDto {\n    //     return {\n    //         metadata: data.metadata,\n    //         cells: data.cells.map(toNotebookCellDataDto)\n    //     };\n    // }\n\n    export function fromNotebookOutputItemDto(item: rpc.NotebookOutputItemDto): CellOutputItem {\n        return {\n            mime: item.mime,\n            data: item.valueBytes\n        };\n    }\n\n    export function fromNotebookOutputDto(output: rpc.NotebookOutputDto): CellOutput {\n        return {\n            outputId: output.outputId,\n            metadata: output.metadata,\n            outputs: output.items.map(fromNotebookOutputItemDto)\n        };\n    }\n\n    export function fromNotebookCellDataDto(cell: rpc.NotebookCellDataDto): CellData {\n        return {\n            cellKind: cell.cellKind,\n            language: cell.language,\n            source: cell.source,\n            outputs: cell.outputs.map(fromNotebookOutputDto),\n            metadata: cell.metadata,\n            internalMetadata: cell.internalMetadata\n        };\n    }\n\n    // export function fromNotebookDataDto(data: rpc.NotebookDataDto): NotebookData {\n    //     return {\n    //         metadata: data.metadata,\n    //         cells: data.cells.map(fromNotebookCellDataDto)\n    //     };\n    // }\n\n    // export function toNotebookCellDto(cell: Cell): rpc.NotebookCellDto {\n    //     return {\n    //         handle: cell.handle,\n    //         uri: cell.uri,\n    //         source: cell.textBuffer.getLinesContent(),\n    //         eol: cell.textBuffer.getEOL(),\n    //         language: cell.language,\n    //         cellKind: cell.cellKind,\n    //         outputs: cell.outputs.map(toNotebookOutputDto),\n    //         metadata: cell.metadata,\n    //         internalMetadata: cell.internalMetadata,\n    //     };\n    // }\n\n    export function fromCellExecuteUpdateDto(data: rpc.CellExecuteUpdateDto): CellExecuteUpdate {\n        if (data.editType === CellExecutionUpdateType.Output) {\n            return {\n                editType: data.editType,\n                cellHandle: data.cellHandle,\n                append: data.append,\n                outputs: data.outputs.map(fromNotebookOutputDto)\n            };\n        } else if (data.editType === CellExecutionUpdateType.OutputItems) {\n            return {\n                editType: data.editType,\n                append: data.append,\n                items: data.items.map(fromNotebookOutputItemDto)\n            };\n        } else {\n            return data;\n        }\n    }\n\n    export function fromCellExecuteCompleteDto(data: rpc.CellExecutionCompleteDto): CellExecutionComplete {\n        return data;\n    }\n\n    // export function fromCellEditOperationDto(edit: rpc.CellEditOperationDto): CellEditOperation {\n    //     if (edit.editType === CellEditType.Replace) {\n    //         return {\n    //             editType: edit.editType,\n    //             index: edit.index,\n    //             count: edit.count,\n    //             cells: edit.cells.map(fromNotebookCellDataDto)\n    //         };\n    //     } else {\n    //         return edit;\n    //     }\n    // }\n}\n"],"names":[],"sourceRoot":""}